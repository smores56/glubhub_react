(this.webpackJsonpglubhub_react=this.webpackJsonpglubhub_react||[]).push([[0],{107:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),l=n(36),u=n.n(l),o=(n(93),n(2)),i=n(1),s=n.n(i),m=n(4),d=n(3),f=(n(95),n(6)),p={name:"Home",route:""},E={name:"Login",route:"login"},b={name:"People",route:"roster"},v=function(e,t){return{name:"Profile",route:"profile",email:e,tab:t}},h={name:"Edit Profile",route:"edit-profile"},g=function(e,t){return{name:"Events",route:"events",eventId:e,tab:t}},O=function(e){return{name:"Edit Carpools",route:"edit-carpools",eventId:e}},j=function(e,t){return{name:"Repertoire",route:"repertoire",songId:e,tab:t}},y=function(e,t){return{name:"Minutes",route:"minutes",minutesId:e,tab:t}},k={name:"Forgot Password",route:"forgot-password"},w=function(e){return{name:"Reset Password",route:"reset-password",token:e}},x=function(e){return{name:"Admin",route:"admin",tab:e}},C={name:"Details",route:"details"},S={name:"Who's Attending",route:"attendees"},N={name:"Attendance",route:"attendance"},I={name:"Setlist",route:"setlist"},T={name:"Carpools",route:"carpools"},A={name:"Request Absence",route:"request-absence"},D={name:"Edit",route:"edit"},F={name:"Public",route:"public"},q={name:"Private",route:"private"},R={name:"Edit",route:"edit"},P={name:"Details",route:"details"},M={name:"Money",route:"money"},B={name:"Attendance",route:"attendance"},G={name:"Semesters",route:"semesters"},Y=function(e){return{name:"Create Event",route:"create-event",gigRequestId:e}},_={name:"Gig Requests",route:"gig-requests"},z={name:"Absence Requests",route:"absence-requests"},L=function(e){return{name:"Edit the Semester",route:"semesters",tab:e}},U={name:"Edit Officers",route:"officer-positions"},W={name:"Edit Permissions",route:"site-permissions"},H={name:"Edit Documents",route:"document-links"},X={name:"Upload API or Site",route:"webmaster-tools"},V={name:"Uniforms",route:"uniforms"},K=function(e){return{name:"Money",route:"money",tab:e}},J={route:"assign-dues",name:"Assign everyone dues"},Q={route:"assign-late-dues",name:"Make remaining dues late"},$={route:"batch-transactions",name:"Bake a batch of chocolate chip transactions"},Z={route:"change",name:"Switch semesters"},ee={route:"create",name:"Birth a semester"},te={route:"edit",name:"Edit this semester"},ne={route:"details",name:"Details"},ae={route:"edit",name:"Edit"},re=function(e){if(0===e.length)return null;var t=e[0];switch(e[1]){case void 0:return v(t,null);case B.route:return v(t,B);case P.route:return v(t,P);case M.route:return v(t,M);case G.route:return v(t,G);default:return null}},ce=function(e){if(0===e.length)return g(null,null);var t=parseInt(e[0]);if(isNaN(t))return null;switch(e[1]){case void 0:return g(t,null);case C.route:return g(t,C);case S.route:return g(t,S);case N.route:return g(t,N);case I.route:return g(t,I);case T.route:return g(t,T);case A.route:return g(t,A);case D.route:return g(t,D);default:return null}},le=function(e){var t=parseInt(e[0]);return isNaN(t)?null:O(t)},ue=function(e){if(0===e.length)return j(null,null);var t=parseInt(e[0]);if(isNaN(t))return null;switch(e[1]){case void 0:return j(t,null);case ne.route:return j(t,ne);case ae.route:return j(t,ae);default:return null}},oe=function(e){if(0===e.length)return y(null,null);var t=parseInt(e[0]);if(isNaN(t))return null;switch(e[1]){case void 0:return y(t,null);case F.route:return y(t,F);case q.route:return y(t,q);case R.route:return y(t,R);default:return null}},ie=function(e){return w(e[0]||null)},se=function(e){if(0===e.length)return x(null);switch(e[0]){case _.route:return x(_);case z.route:return x(z);case U.route:return x(U);case W.route:return x(W);case H.route:return x(H);case X.route:return x(X);case V.route:return x(V);case L(null).route:if(1===e.length)return x(L(null));switch(e[1]){case Z.route:return x(L(Z));case ee.route:return x(L(ee));case te.route:return x(L(te));default:return null}case K(null).route:if(1===e.length)return x(K(null));switch(e[1]){case J.route:return x(K(J));case Q.route:return x(K(Q));case $.route:return x(K($));default:return null}case Y(null).route:if(1===e.length)return x(Y(null));var t=parseInt(e[1]);return isNaN(t)?null:x(Y(t));default:return null}},me=function(e){return"#/".concat(de(e).join("/"))},de=function(e){return e.route?"events"===e.route?(t=e.route,n=e.eventId,a=e.tab,[t].concat(Object(f.a)(n?["".concat(n)]:[]),Object(f.a)(a?[a.route]:[]))):"minutes"===e.route?function(e,t,n){return[e].concat(Object(f.a)(t?["".concat(t)]:[]),Object(f.a)(n?[n.route]:[]))}(e.route,e.minutesId,e.tab):"admin"===e.route?function(e,t){return null===t?[e]:"create-event"===t.route&&null!==t.gigRequestId?[e,t.route,"".concat(t.gigRequestId)]:"money"===t.route&&null!==t.tab?[e,t.route,t.tab.route]:"semesters"===t.route&&null!==t.tab?[e,t.route,t.tab.route]:[e,t.route]}(e.route,e.tab):"repertoire"===e.route?function(e,t,n){return[e].concat(Object(f.a)(t?["".concat(t)]:[]),Object(f.a)(n?[n.route]:[]))}(e.route,e.songId,e.tab):"profile"===e.route?[e.route,e.email].concat(Object(f.a)(e.tab?[e.tab.route]:[])):"reset-password"===e.route?[e.route].concat(Object(f.a)(e.token?[e.token]:[])):"edit-carpools"===e.route?[e.route,"".concat(e.eventId)]:[e.route]:[];var t,n,a},fe=n(108),pe={user:null,members:[],info:null,currentSemester:null,updateUser:function(){},updateMembers:function(){},updateInfo:function(){},updateCurrentSemester:function(){},refreshAll:function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},Ee=Object(r.createContext)(pe),be=function(){var e=Object(fe.c)(),t=Object(fe.b)();return{location:e.hash.startsWith("#/")?function(e){if(0===e.length)return p;switch(e[0]){case E.route:return E;case b.route:return b;case v("",null).route:return re(e.slice(1));case h.route:return h;case g(null,null).route:return ce(e.slice(1));case O(0).route:return le(e.slice(1));case j(null,null).route:return ue(e.slice(1));case y(null,null).route:return oe(e.slice(1));case k.route:return k;case w(null).route:return ie(e.slice(1));case x(null).route:return se(e.slice(1));default:return null}}(e.hash.slice(2).split("/")):null,goToRoute:function(e){return t.push(me(e))},replaceRoute:function(e){return t.replace(me(e))}}},ve={name:"",url:""},he={name:"",description:"",color:null,id:0},ge={members:[],amount:null,type:"Expense",description:""};!function(e){e.AFlat="AFlat",e.A="A",e.ASharp="ASharp",e.BFlat="BFlat",e.B="B",e.BSharp="BSharp",e.CFlat="CFlat",e.C="C",e.CSharp="CSharp",e.DFlat="DFlat",e.D="D",e.DSharp="DSharp",e.EFlat="EFlat",e.E="E",e.ESharp="ESharp",e.FFlat="FFlat",e.F="F",e.FSharp="FSharp",e.GFlat="GFlat",e.G="G",e.GSharp="GSharp"}(a||(a={}));var Oe=["Tenor 1","Tenor 2","Baritone","Bass",null],je=[a.AFlat,a.A,a.ASharp,a.BFlat,a.B,a.BSharp,a.CFlat,a.C,a.CSharp,a.DFlat,a.D,a.DSharp,a.EFlat,a.E,a.ESharp,a.FFlat,a.F,a.FSharp,a.GFlat,a.G,a.GSharp],ye={status:"notAsked"},ke={status:"loading"},we=function(e){return{status:"loaded",data:e}},xe=function(e){return{status:"errorLoading",error:e}},Ce={status:"notSentYet"},Se={status:"sending"},Ne=function(e){return{status:"errorSending",error:e}},Ie=function(e,t){return Re(e)?we(t(e.data)):e},Te=function(e){return e.successful?we(e.data):xe(e.error)},Ae=function(e){return e.successful?Ce:Ne(e.error)},De=function(e,t){if(e.successful)t(Ce);else{t(Ne(e.error));var n=document.getElementById("submission-box");n&&n.scrollIntoView({behavior:"smooth"})}},Fe=function(e){return"sending"===e.status},qe=function(e){return"loading"===e.status},Re=function(e){return"loaded"===e.status},Pe=function(e){return"errorSending"===e.status},Me=n(26),Be=n.n(Me),Ge=function(e){return"".concat(e.preferredName||e.firstName," ").concat(e.lastName)},Ye=function(e,t){return(e.permissions||[]).some((function(e){return e.name===t}))},_e=function(e){return(new Date).getTime()>(e.releaseTime||e.callTime)},ze=function(){return localStorage.getItem("grease-token")},Le=function(e){return e?localStorage.setItem("grease-token",e):localStorage.removeItem("grease-token")},Ue=function(){return localStorage.getItem("grease-old-token")},We=function(e){return e?localStorage.setItem("grease-old-token",e):localStorage.removeItem("grease-old-token")},He=function(e,t){return e.role===t.role&&e.permission===t.permission&&e.eventType===t.eventType},Xe=function(){var e=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=new FileReader;n.onloadend=function(t){return e(t.target.result.replace(/^data:(.*,)?/,""))},n.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ve=function(e){return[[[Y(null),Ye(e,"create-event")],[_,Ye(e,"process-gig-requests")],[z,Ye(e,"process-absence-requests")]],[[L(null),Ye(e,"edit-semester")],[H,Ye(e,"edit-links")],[K(null),Ye(e,"edit-transaction")],[U,Ye(e,"edit-officers")],[V,Ye(e,"edit-uniforms")],[W,Ye(e,"edit-permissions")]],[[X,(e.positions||[]).includes("Webmaster")]]].map((function(e){return e.filter((function(e){var t=Object(d.a)(e,2);t[0];return t[1]})).map((function(e){var t=Object(d.a)(e,2),n=t[0];t[1];return n}))})).filter((function(e){return e.length}))},Ke=function(e){switch(e){case a.AFlat:return"A\u266d";case a.A:return"A";case a.ASharp:return"A\u266f";case a.BFlat:return"B\u266d";case a.B:return"B";case a.BSharp:return"B\u266f";case a.CFlat:return"C\u266d";case a.C:return"C";case a.CSharp:return"C\u266f";case a.DFlat:return"D\u266d";case a.D:return"D";case a.DSharp:return"D\u266f";case a.EFlat:return"E\u266d";case a.E:return"E";case a.ESharp:return"E\u266f";case a.FFlat:return"F\u266d";case a.F:return"F";case a.FSharp:return"F\u266f";case a.GFlat:return"G\u266d";case a.G:return"G";case a.GSharp:return"G\u266f";default:throw new Error}},Je=function(e){var t=[["zero","0"],["one","I"],["two","II"],["three","III"],["four","IV"],["five","V"],["six","VI"],["seven","VII"],["eight","VIII"],["nine","IX"],["ten","X"],["eleven","XI"],["twelve","XII"],["thirteen","XIII"],["fourteen","XIV"],["fifteen","XV"],["sixteen","XVI"],["seventeen","XVII"],["eighteen","XVIII"],["nineteen","XIX"],["twenty","XX"]][e];if(t){var n=Object(d.a)(t,2),a=n[0],r=n[1];return"".concat(a," (").concat(r,")")}return"".concat(e)},Qe=function(){return c.a.createElement("div",{className:"spinner"},c.a.createElement("div",{className:"spinner-inner"},c.a.createElement("i",{className:"oldgold-text fas fa-circle-notch fa-2x fa-spin"})))},$e=function(e){var t=e.centered,n=e.children;return c.a.createElement("h1",{className:"title",style:t?{textAlign:"center"}:void 0},n)},Ze=function(e){var t=e.children;return c.a.createElement("h4",{className:"title is-4"},t)},et=function(e){var t=e.centered,n=e.children;return c.a.createElement("h3",{className:"subtitle is-3",style:t?{textAlign:"center"}:void 0},n)},tt=function(e){var t=e.children;return c.a.createElement("div",{className:"columns"},t)},nt=function(e){var t=e.narrow,n=e.children;return c.a.createElement("div",{className:"column"+(t?" is-narrow":"")},n)},at=function(e){var t=e.children;return c.a.createElement("div",{className:"box"},t)},rt=function(e){var t=e.children;return c.a.createElement("section",{className:"section"},t)},ct=function(e){var t=e.children;return c.a.createElement("div",{className:"container"},t)},lt=function(e){var t=e.content,n=e.type,a=e.children;return c.a.createElement("span",{style:{cursor:"pointer"},"data-tooltip":t,className:"tooltip is-tooltip"+(n?"is-tooltip-".concat(n):"")},a)},ut=function(e){var t=e.checked;return c.a.createElement("span",{className:"icon is-medium"},c.a.createElement("i",{className:"fas fa-lg fa-"+(t?"check":"times")}))},ot=function(e){var t=e.vertical,n=e.content,a=t?"is-divider-vertical":"is-divider";return n?c.a.createElement("div",{className:a,"data-content":n}):c.a.createElement("div",{className:a})},it=function(e){var t=e.email;return c.a.createElement("a",{href:"mailto:"+t},t)},st=function(e){var t=e.phone;return c.a.createElement("a",{href:"tel:"+t},function(e){return 10!==e.length?e:"(".concat(e.slice(0,3),") ").concat(e.slice(3,6),"-").concat(e.slice(6))}(t))},mt=function(e){var t,n,a=e.error;return"login required"===a.message?(t="unauthorized",n="You aren't allowed to be here! Go on, get!"):"member not active yet"===a.message?(t="not active yet",n="You're gonna need to confirm your account for the semester to do stuff."):"member already logged in"===a.message?(t="already logged in",n="You tried to login twice, dummy. No need to work so hard."):"access forbidden"===a.message?(t=a.requiredPermission?"unable to ".concat(a.requiredPermission):"forbidden",n="Well, well, well, looks like you tried to do something you weren't allowed to. Go to your room!"):"resource not found"===a.message?(t="resource not found",n="I've looked everywhere, but I can't find what you're looking for..."):"bad request"===a.message?(t="bad request",n="I've got some bad news for ya: ".concat(a.reason)):"server error"===a.message?(t="server error",n="Oh lordy, something terrible has come to pass: ".concat(a.error)):"database error"===a.message?(t="database error",n="Don't shoot the messenger, but this came in from headquarters: ".concat(a.error)):"error connecting to database"===a.message?(t="connection error",n="Blame my friend the database, for they have broken something: ".concat(a.error)):(t="unknown error (status ".concat(a.statusCode,")"),n="I don't even know what happened: ".concat(a.error)),c.a.createElement("article",{id:"submission-box",className:"message is-danger",style:{paddingTop:"5px",paddingBottom:"5px"}},c.a.createElement("div",{className:"message-header"},c.a.createElement("p",null,"Something went wrong. (",c.a.createElement("i",null,t),")")),c.a.createElement("div",{className:"message-body"},n))},dt=function(e){var t=e.event;if(!t.attendance||_e(t))return c.a.createElement(c.a.Fragment,null);var n=t.attendance.confirmed?"has-text-success":"has-text-grey",a="".concat(t.attendance.confirmed?"confirmed":"unconfirmed",", ").concat(t.attendance.shouldAttend?"attending":"not attending");return c.a.createElement("div",{className:n},c.a.createElement(lt,{content:a,type:"right"},c.a.createElement(ut,{checked:t.attendance.shouldAttend})))},ft=function(e){var t=e.data,n=e.render,a=e.notAsked;switch(t.status){case"notAsked":return a||c.a.createElement(c.a.Fragment,null);case"loading":return c.a.createElement(Qe,null);case"loaded":return n(t.data);case"errorLoading":return c.a.createElement(mt,{error:t.error})}},pt=function(e){var t=e.permission,n=e.children,a=Object(r.useContext)(Ee).user;return a&&Ye(a,t)?c.a.createElement(c.a.Fragment,null,n):c.a.createElement(c.a.Fragment,null)},Et=function(e){var t=e.data,n=e.render,a=e.close;return"notAsked"===t.status?c.a.createElement("div",{className:"sidenav",hidden:!0}):c.a.createElement("div",null,c.a.createElement("div",{className:"transparent-overlay",onClick:a}),c.a.createElement("div",{className:"sidenav",style:{padding:"20px",paddingTop:"80px"}},"loading"===t.status?c.a.createElement(Qe,null):"loaded"===t.status?n(t.data):c.a.createElement(mt,{error:t.error})))},bt=function(e){var t=e.state;switch(t.status){case"notSentYet":return c.a.createElement(c.a.Fragment,null);case"sending":return c.a.createElement(Qe,null);case"errorSending":return c.a.createElement(mt,{error:t.error})}},vt=function(e){var t=e.close,n=e.children;return c.a.createElement("div",{className:"modal is-active"},c.a.createElement("div",{className:"modal-background",onClick:t}),c.a.createElement("div",{className:"modal-content",style:{textAlign:"center"}},c.a.createElement(at,null,n)))},ht=function(e){var t=e.email,n=Object(r.useContext)(Ee).members.find((function(e){return e.email===t}));return n?c.a.createElement(c.a.Fragment,null,Ge(n)):c.a.createElement("i",null,t)},gt=function(e){var t=["table",e.className,e.fullwidth&&"is-fullwidth",e.striped&&"is-striped",e.hoverable&&"is-hoverable"].filter((function(e){return!!e})).join(" "),n=c.a.createElement("table",{className:t,style:e.style},e.children);return e.scrollable?c.a.createElement("div",{className:"table-container"},n):n},Ot=function(e){return c.a.createElement(nt,{narrow:!0},e.title&&c.a.createElement($e,null,e.title),c.a.createElement(at,null,e.contentAtTop,c.a.createElement(ft,{data:e.listItems,render:function(t){var n=t.filter((function(e){return e.length}));return n.length?c.a.createElement(gt,{fullwidth:!0,hoverable:!0,className:"no-bottom-border"},c.a.createElement("thead",null),c.a.createElement("tbody",null,n.map((function(t,a){return[].concat(Object(f.a)(t.map((function(t){return jt(t,e)}))),[a===n.length-1?c.a.createElement(c.a.Fragment,null):c.a.createElement(yt,null)])})).flatMap((function(e){return e})))):c.a.createElement("p",null,e.messageIfEmpty)}}),e.contentAtBottom))},jt=function(e,t){return c.a.createElement("tr",{style:{backgroundColor:t.isSelected(e)?"#b4a46a":""},onClick:function(){return t.onSelect(e)}},t.render(e))},yt=function(){return c.a.createElement("tr",{className:"not-hoverable"},c.a.createElement("div",{className:"is-divider",style:{margin:"1rem"}}))},kt=function(e,t){return{message:"unknown error",statusCode:e,error:t}},wt=function(){var e=Object(m.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.json();case 3:n=e.sent,a=null===n||void 0===n?void 0:n.message,e.t0=a,e.next="resource not found"===e.t0?8:"member already logged in"===e.t0?9:"login required"===e.t0?10:"member not active yet"===e.t0?11:"access forbidden"===e.t0?12:"server error"===e.t0?13:"bad request"===e.t0?14:"database error"===e.t0?15:"error connecting to database"===e.t0?16:17;break;case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:return e.abrupt("return",n);case 17:return e.abrupt("return",kt(t.status,"".concat(n)));case 18:e.next=23;break;case 20:return e.prev=20,e.t1=e.catch(0),e.abrupt("return",kt(t.status,"".concat(e.t1)));case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}(),xt=function(e){return{successful:!0,data:e}},Ct=function(){var e=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tt(t,"GET",null,!0));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),St=function(){var e=Object(m.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tt(t,"POST",n,!1));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Nt=function(){var e=Object(m.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tt(t,"POST",n,!0));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),It=function(){var e=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tt(t,"DELETE",null,!1));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Tt=function(){var e=Object(m.a)(s.a.mark((function e(t,n,a,r){var c,l,u,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=ze(),l={method:n,headers:c?{token:c}:void 0,body:"POST"===n?JSON.stringify(a):void 0},e.next=6,fetch("https://gleeclub.gatech.edu/cgi-bin/api/"+t,l);case 6:if(200!==(u=e.sent).status){e.next=18;break}if(!r){e.next=15;break}return e.next=11,u.json();case 11:return o=e.sent,e.abrupt("return",{successful:!0,data:o});case 15:return e.abrupt("return",{successful:!0,data:null});case 16:e.next=22;break;case 18:return e.next=20,wt(u);case 20:return i=e.sent,e.abrupt("return",{successful:!1,error:i});case 22:e.next=27;break;case 24:return e.prev=24,e.t0=e.catch(0),e.abrupt("return",{successful:!1,error:kt(0,"failed to make request")});case 27:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),At=function(){var e=Object(m.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if((a=e.sent).successful){e.next=5;break}return e.abrupt("return",a);case 5:return e.abrupt("return",n(a.data));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Dt=function(){var e=Object(m.a)(s.a.mark((function e(t,n){var a,r,c,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t,n]);case 2:if(a=e.sent,r=Object(d.a)(a,2),c=r[0],l=r[1],c.successful){e.next=10;break}return e.abrupt("return",c);case 10:if(l.successful){e.next=14;break}return e.abrupt("return",l);case 14:return e.abrupt("return",{successful:!0,data:[c.data,l.data]});case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ft=function(){var e=Object(m.a)(s.a.mark((function e(t,n,a){var r,c,l,u,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t,n,a]);case 2:if(r=e.sent,c=Object(d.a)(r,3),l=c[0],u=c[1],o=c[2],l.successful){e.next=11;break}return e.abrupt("return",l);case 11:if(u.successful){e.next=15;break}return e.abrupt("return",u);case 15:if(o.successful){e.next=19;break}return e.abrupt("return",o);case 19:return e.abrupt("return",{successful:!0,data:[l.data,u.data,o.data]});case 20:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),qt=function(){var e=Object(m.a)(s.a.mark((function e(t,n,a,r){var c,l,u,o,i,m;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t,n,a,r]);case 2:if(c=e.sent,l=Object(d.a)(c,4),u=l[0],o=l[1],i=l[2],m=l[3],u.successful){e.next=12;break}return e.abrupt("return",u);case 12:if(o.successful){e.next=16;break}return e.abrupt("return",o);case 16:if(i.successful){e.next=20;break}return e.abrupt("return",i);case 20:if(m.successful){e.next=24;break}return e.abrupt("return",m);case 24:return e.abrupt("return",{successful:!0,data:[u.data,o.data,i.data,m.data]});case 25:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Rt={display:"inline-block",verticalAlign:"middle"},Pt=function(e){var t=e.content,n=e.click;return c.a.createElement("span",{style:Object(o.a)({cursor:"pointer"},Rt),onClick:n},c.a.createElement("i",{className:"fas fa-arrow-left",style:Object(o.a)({fontSize:"16px"},Rt)})," ",c.a.createElement("span",{style:Rt},t))},Mt=function(e){var t=e.click;return c.a.createElement("button",{className:"delete","aria-label":"close",onClick:t})},Bt=function(e){var t=e.connected,n=e.alignment,a=e.children;return c.a.createElement("div",{className:["buttons",n,t?"has-addons":null].filter((function(e){return!!e})).join(" ")},a)},Gt=function(e){var t="object"===typeof e.color?{color:e.color.rgb}:void 0;return{className:["button",e.size,e.loading?"is-loading":void 0,e.fullwidth?"is-fullwidth":void 0,e.inverted?"is-inverted":void 0,e.outlined?"is-outlined":void 0,e.color&&"string"===typeof e.color?e.color:void 0,e.className].filter((function(e){return void 0!==e})).join(" "),style:Object(o.a)({},e.style,{},t)}},Yt=function(e){var t=Object(o.a)({onClick:e.onClick,disabled:void 0===e.onClick},Gt(e));switch(e.element){case"a":return c.a.createElement("a",t,e.children);default:return c.a.createElement("button",Object.assign({type:"button"},t),e.children)}},_t=function(e){var t=be().goToRoute;return c.a.createElement("a",Object.assign({type:"button"},Gt(e),{onClick:function(){return t(e.route)}}),e.children)},zt=function(e){return c.a.createElement("button",Object.assign({type:"submit"},Gt(e)),e.children)},Lt=n(9),Ut=n.n(Lt),Wt=function(e){return Ut()(e).format("dddd, MMMM D, YYYY h:mm A")},Ht=function(e){return Ut()(e).format("H:mm A")},Xt=function(e){return Ut()(e).format("YYYY-MM-DD")},Vt=function(e){return Ut()(e).format("HH:MM")},Kt=function(e){return Ut()(e).format("dddd, MMMM Do")},Jt=function(e){return Ut()(e).format("MMM DD, YYYY")},Qt=function(e){var t,n;return(null===(t=Ut()(e))||void 0===t?void 0:null===(n=t.toDate())||void 0===n?void 0:n.getTime())||null},$t=function(e,t){var n,a;return(null===(n=Ut()("".concat(e," ").concat(t)))||void 0===n?void 0:null===(a=n.toDate())||void 0===a?void 0:a.getTime())||null},Zt=function(){var e=Object(r.useState)(ke),t=Object(d.a)(e,2),n=t[0],a=t[1],l=Object(r.useState)(Ce),u=Object(d.a)(l,2),i=u[0],f=u[1],p=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(t,r){var c,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Re(n)){e.next=2;break}return e.abrupt("return");case 2:return f(Se),c="absence_requests/".concat(t.event,"/").concat(t.member,"/").concat(r),e.next=6,St(c,{});case 6:l=e.sent,De(l,f),l.successful&&a(we(n.data.map((function(e){var n=Object(d.a)(e,2),a=n[0],c=n[1];return[a.event===t.event&&a.member===t.member?Object(o.a)({},a,{state:"approve"===r?"Approved":"Denied"}):a,c]}))));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n,a,f]);return Object(r.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ct("absence_requests");case 2:t=e.sent,a(Te(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),c.a.createElement("div",{style:{width:"100%"}},c.a.createElement($e,null,"Open Absence Requests"),c.a.createElement(at,null,c.a.createElement(ft,{data:Ie(n,(function(e){return e.filter((function(e){var t=Object(d.a)(e,2),n=t[0];t[1];return"Pending"===n.state}))})),render:function(e){return c.a.createElement(en,{requestsAndEvents:e,respond:p})}})),c.a.createElement($e,null,"Closed Absence Requests"),c.a.createElement(at,null,c.a.createElement(ft,{data:Ie(n,(function(e){return e.filter((function(e){var t=Object(d.a)(e,2),n=t[0];t[1];return"Pending"!==n.state}))})),render:function(e){return c.a.createElement(en,{requestsAndEvents:e,respond:p})}})),c.a.createElement(bt,{state:i}))},en=function(e){var t=e.requestsAndEvents,n=e.respond;return c.a.createElement(gt,{scrollable:!0,style:{width:"100%"}},c.a.createElement("thead",null,c.a.createElement("tr",{style:{width:"100%"}},c.a.createElement("th",null,"When Submitted"),c.a.createElement("th",null,"Event Name"),c.a.createElement("th",null,"Event Date"),c.a.createElement("th",null,"Loser"),c.a.createElement("th",null,"Excuse"))),c.a.createElement("tbody",null,t.map((function(e){var t=Object(d.a)(e,2),a=t[0],r=t[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(tn,{request:a,event:r}),c.a.createElement(nn,{request:a,respond:n}))}))))},tn=function(e){var t=e.request,n=e.event;return c.a.createElement("tr",{key:t.time,className:"no-bottom-border"},c.a.createElement("td",null,Kt(t.time),c.a.createElement("br",null),Ht(t.time)),c.a.createElement("td",null,c.a.createElement("a",{href:me(g(n.id,null))},n.name)),c.a.createElement("td",null,Kt(n.callTime),c.a.createElement("br",null),Ht(n.callTime),c.a.createElement("br",null),n.location||""),c.a.createElement("td",null,c.a.createElement("a",{href:me(v(t.member,null))},c.a.createElement(ht,{email:t.member}))),c.a.createElement("td",null,c.a.createElement("i",null,'"'.concat(t.reason,'"'))))},nn=function(e){var t,n,a=e.request,r=e.respond;switch(a.state){case"Pending":t=c.a.createElement(Yt,{onClick:function(){return r(a,"deny")}},"Get fukt nerd"),n=c.a.createElement(Yt,{color:"is-primary",onClick:function(){return r(a,"approve")}},"Bestow mercy");break;case"Approved":t=c.a.createElement(Yt,{onClick:function(){return r(a,"deny")}},"Jk get fukt nerd"),n=c.a.createElement(Yt,null,"Mercy bestowed");break;case"Denied":t=c.a.createElement(Yt,null,"Nerd got fukt"),n=c.a.createElement(Yt,{style:{whiteSpace:"normal",maxWidth:"150px",height:"initial"},onClick:function(){return r(a,"approve")}},"I have heard your pleas and acquiesced to your request")}return c.a.createElement("tr",{className:"no-bottom-border"},c.a.createElement("td",{colSpan:5},c.a.createElement(Bt,{alignment:"is-right"},t,n)))},an=function(e){var t=e.expanded,n=e.children;return c.a.createElement("p",{className:"control"+(t?" is-expanded":"")},n)},rn=function(e){return c.a.createElement("div",{className:"field"+(e.horizontal?" is-horizontal":"")},e.title&&(e.horizontal?c.a.createElement("div",{className:"field-label is-normal"},c.a.createElement("label",{className:"label"},e.title)):c.a.createElement("label",{className:"label"},e.title)),c.a.createElement("div",{className:"field-body"},e.children),e.helpText&&c.a.createElement("p",{className:"help"},e.helpText))},cn=function(e){var t=["field",e.expanded?"is-expanded":null,e.loading?"is-loading":null,e.prefix||e.suffix?"has-addons":null];return c.a.createElement("div",{className:t.filter((function(e){return!!e})).join(" ")},e.prefix&&c.a.createElement(an,null,c.a.createElement("a",{className:"button is-static"},e.prefix)),e.children,e.suffix&&c.a.createElement(an,null,c.a.createElement("a",{className:"button is-static"},e.suffix)))},ln=function(e){return c.a.createElement(rn,e,c.a.createElement(cn,e,c.a.createElement(an,null,c.a.createElement("input",{className:"input"+(e.loading?" is-loading":""),value:e.type.toString(e.value),onChange:function(t){return e.onInput(e.type.fromString(t.target.value))},type:e.type.textType,placeholder:e.placeholder,required:e.required,autoComplete:!1===e.autocomplete?"off":"on"}))))},un=function(e){return c.a.createElement(rn,e,c.a.createElement(cn,e,c.a.createElement(an,null,c.a.createElement("textarea",{className:"textarea"+(e.loading?" is-loading":""),value:e.value,onChange:function(t){return e.onInput(t.target.value)},placeholder:e.placeholder,required:e.required,autoComplete:!1===e.autocomplete?"off":"on"}))))},on=function(e){return c.a.createElement(rn,e,c.a.createElement(cn,e,c.a.createElement("div",{className:"select control"+(e.loading?" is-loading":"")+(e.leftAligned?" is-pulled-left":"")},c.a.createElement("select",{onInput:function(t){return e.onInput(e.type.fromString(t.currentTarget.value))}},e.values.map((function(t){return e.type.toString(t)})).map((function(t){return c.a.createElement("option",{key:t,value:t,selected:t===e.type.toString(e.selected)},t)}))))))},sn=function(e){return c.a.createElement(rn,e,c.a.createElement(cn,e,e.values.map((function(t,n){return c.a.createElement(c.a.Fragment,null,c.a.createElement("label",{key:e.render(t),className:"radio"},c.a.createElement("input",{type:"radio",checked:"".concat(t)==="".concat(e.selected),onClick:function(){return e.onInput(t)}})," "+e.render(t)),n!==e.values.length-1&&c.a.createElement("br",null))}))))},mn=function(e){var t=e.content,n=e.checked,a=e.onChange;return c.a.createElement("div",{className:"control checkbox"},c.a.createElement("label",{className:"checkbox"},c.a.createElement("input",{type:"checkbox",checked:n,onChange:function(){return a(!n)}})," ",t))},dn=function(e){return c.a.createElement(rn,e,c.a.createElement("div",{className:"file has-name"},c.a.createElement("label",{className:"file-label"},c.a.createElement("input",{className:"file-input",type:"file",onChange:function(t){var n;return e.selectFile((null===(n=t.target.files)||void 0===n?void 0:n.item(0))||null)}}),c.a.createElement("span",{className:"file-cta"},c.a.createElement("span",{className:"file-icon"},c.a.createElement("i",{className:"fas fa-upload"})),c.a.createElement("span",{className:"file-label"},"Choose a file...")),e.file&&c.a.createElement("span",{className:"file-name"},e.file.name))))},fn={toString:function(e){return e},fromString:function(e){return e},textType:"text"},pn={toString:function(e){return e},fromString:function(e){return e},textType:"date"},En={toString:function(e){return e},fromString:function(e){return e},textType:"time"},bn={toString:function(e){return e},fromString:function(e){return e},textType:"email"},vn={toString:function(e){return e},fromString:function(e){return e},textType:"password"},hn={toString:function(e){return e},fromString:function(e){return e},textType:"tel"},gn={toString:function(e){return e?"".concat(e):""},fromString:function(e){return isNaN(parseInt(e))?null:parseInt(e)},textType:"number"},On=function(e){return{toString:function(e){return e||"No Section"},fromString:function(t){return((null===e||void 0===e?void 0:e.sections)||[]).find((function(e){return e===t}))||null},textType:"text"}},jn=function(e){return{toString:function(e){return(null===e||void 0===e?void 0:e.name)||"(no uniform)"},fromString:function(t){return((null===e||void 0===e?void 0:e.uniforms)||[]).find((function(e){return e.name===t}))||null},textType:"text"}},yn=function(e){return{toString:function(e){return e?Ge(e):"(nobody)"},fromString:function(t){return e.find((function(e){return Ge(e)===t}))||null},textType:"text"}},kn={toString:function(e){return e||"Inactive"},fromString:function(e){return"Class"===e||"Club"===e?e:null},textType:"text"},wn=function(e){return{toString:function(e){return(null===e||void 0===e?void 0:e.name)||"(no semester)"},fromString:function(t){return e.find((function(e){return e.name===t}))||null},textType:"text"}},xn={toString:function(e){return e?Ke(e):"?"},fromString:function(e){switch(e){case"A\u266d":return a.AFlat;case"A":return a.A;case"A\u266f":return a.ASharp;case"B\u266d":return a.BFlat;case"B":return a.B;case"B\u266f":return a.BSharp;case"C\u266d":return a.CFlat;case"C":return a.C;case"C\u266f":return a.CSharp;case"D\u266d":return a.DFlat;case"D":return a.D;case"D\u266f":return a.DSharp;case"E\u266d":return a.EFlat;case"E":return a.E;case"E\u266f":return a.ESharp;case"F\u266d":return a.FFlat;case"F":return a.F;case"F\u266f":return a.FSharp;case"G\u266d":return a.GFlat;case"G":return a.G;case"G\u266f":return a.GSharp;default:return null}},textType:"text"},Cn={toString:function(e){return e||"(no mode)"},fromString:function(e){return["Major","Minor"].includes(e)?e:null},textType:"text"},Sn=function(e){return{name:"",semester:e.name,type:"Rehearsal",callTime:"",callDate:"",releaseTime:"",releaseDate:"",points:null,comments:"",location:"",gigCount:!1,defaultAttend:!0,repeat:"No",repeatUntil:""}},Nn={performanceTime:"",uniform:null,contactName:"",contactEmail:"",contactPhone:"",price:null,public:!1,summary:"",description:""},In=function(e,t){return{name:"".concat(e.name," for ").concat(e.organization),semester:t.name,type:"Volunteer Gig",callTime:Vt(e.startTime),callDate:Xt(e.startTime),releaseTime:"",releaseDate:"",points:5,comments:e.comments||"",location:e.location,gigCount:!0,defaultAttend:!1,repeat:"No",repeatUntil:""}},Tn=["No","Daily","Weekly","Biweekly","Monthly","Yearly"],An=function(e){var t,n=e.event,a=e.gig,r=!!(a.performanceTime||a.uniform||a.contactName||a.contactEmail||a.contactPhone||a.price||a.summary||a.description);return{name:n.name,semester:n.semester,type:n.type,callTime:$t(n.callDate,n.callTime),releaseTime:$t(n.releaseDate,n.releaseTime),points:n.points||5,comments:n.comments,location:n.location,gigCount:n.gigCount,defaultAttend:n.defaultAttend,gig:r?{performanceTime:$t(n.callDate,a.performanceTime),uniform:(null===(t=a.uniform)||void 0===t?void 0:t.id)||null,contactName:a.contactName,contactEmail:a.contactEmail,contactPhone:a.contactPhone,price:a.price,public:a.public,summary:a.summary,description:a.description}:null,repeat:n.repeat,repeatUntil:$t(n.repeatUntil,"00:00")}},Dn=function(e){var t=e.gigRequestId,n=Object(r.useContext)(Ee).currentSemester,a=be().goToRoute,l=Object(r.useState)(ke),u=Object(d.a)(l,2),o=u[0],i=u[1],f=Object(r.useState)(ke),p=Object(d.a)(f,2),E=p[0],b=p[1],v=Object(r.useState)(Ce),h=Object(d.a)(v,2),O=h[0],j=h[1],y=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(n){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),Re(o)){e.next=3;break}return e.abrupt("return");case 3:return j(Se),r=t?"gig_requests/".concat(t,"/create_event"):"events",e.next=7,Nt(r,An(o.data));case 7:c=e.sent,j(Ae(c)),c.successful&&a(g(c.data.id,null));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o,j,t,a]);return Object(r.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ct("semesters");case 2:t=e.sent,b(Te(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),null!==t?Ct("gig_requests/".concat(t)).then((function(e){i(Ie(Te(e),(function(e){return{event:In(e,n),gig:(t=e,{performanceTime:Vt(t.startTime),uniform:null,contactName:t.contactName,contactEmail:t.contactEmail,contactPhone:t.contactPhone,price:null,public:!1,summary:"",description:""})};var t})))})):i(we({event:Sn(n),gig:Nn}))}),[b,n,i,t]),c.a.createElement(c.a.Fragment,null,c.a.createElement($e,null,"Create Event"),c.a.createElement(at,null,c.a.createElement(ft,{data:o,render:function(e){return c.a.createElement("form",{onSubmit:y},c.a.createElement(tt,null,c.a.createElement(Fn,{form:e,update:function(e){return i(we(e))}}),c.a.createElement(qn,{form:e,update:function(e){return i(we(e))},semesters:E}),c.a.createElement(Rn,{form:e,update:function(e){return i(we(e))},state:O})))}})))},Fn=function(e){var t=e.form,n=e.update;return c.a.createElement(nt,null,c.a.createElement(ln,{type:fn,value:t.event.name,onInput:function(e){return n(Object(o.a)({},t,{event:Object(o.a)({},t.event,{name:e})}))},title:"Event Name",placeholder:"Flashmobbing the HOMO SEX IS SIN people",helpText:"Make it descriptive, make it short.",required:!0}),c.a.createElement(ln,{type:fn,value:t.event.location,onInput:function(e){return n(Object(o.a)({},t,{event:Object(o.a)({},t.event,{location:e})}))},title:"Event Location",placeholder:"Your mom's house \ud83d\ude02",helpText:"ha gottem"}),c.a.createElement(ln,{type:pn,value:t.event.callDate,onInput:function(e){return n(Object(o.a)({},t,{event:Object(o.a)({},t.event,{callDate:e})}))},title:"Date of Event",required:!0}),c.a.createElement(ln,{type:En,value:t.event.callTime,onInput:function(e){return n(Object(o.a)({},t,{event:Object(o.a)({},t.event,{callTime:e})}))},title:"Call Time",helpText:"4:20 lamo",required:!0}),c.a.createElement(ln,{type:En,value:t.gig.performanceTime,onInput:function(e){return n(Object(o.a)({},t,{gig:Object(o.a)({},t.gig,{performanceTime:e})}))},title:"Event Time",helpText:"4:21 lamo"}),c.a.createElement(ln,{type:En,value:t.event.releaseTime,onInput:function(e){return n(Object(o.a)({},t,{event:Object(o.a)({},t.event,{releaseTime:e})}))},title:"Release Time",helpText:"4:22 lamo"}),c.a.createElement(ln,{type:pn,value:t.event.releaseDate,onInput:function(e){return n(Object(o.a)({},t,{event:Object(o.a)({},t.event,{releaseDate:e})}))},title:"Release Date"}),c.a.createElement(ln,{type:gn,value:t.event.points,onInput:function(e){return n(Object(o.a)({},t,{event:Object(o.a)({},t.event,{points:e})}))},title:"How many points is this worth?",placeholder:"69"}))},qn=function(e){var t=e.form,n=e.update,a=e.semesters,l=Object(r.useContext)(Ee),u=l.currentSemester,i=l.info;return c.a.createElement(nt,null,c.a.createElement(sn,{render:function(e){return e},values:(null===i||void 0===i?void 0:i.eventTypes.map((function(e){return e.name})))||[],selected:t.event.type,onInput:function(e){return n(Object(o.a)({},t,{event:Object(o.a)({},t.event,{type:e})}))},title:"Event Type"}),c.a.createElement(on,{type:fn,values:Re(a)?a.data.map((function(e){return e.name})):[u.name],selected:t.event.semester,onInput:function(e){return n(Object(o.a)({},t,{event:Object(o.a)({},t.event,{semester:e})}))},title:"Semester",loading:qe(a)}),c.a.createElement(on,{type:jn(i),values:[null].concat(Object(f.a)((null===i||void 0===i?void 0:i.uniforms)||[])),selected:t.gig.uniform,onInput:function(e){return n(Object(o.a)({},t,{gig:Object(o.a)({},t.gig,{uniform:e})}))},title:"Uniform"}),c.a.createElement(un,{value:t.event.comments,onInput:function(e){return n(Object(o.a)({},t,{event:Object(o.a)({},t.event,{comments:e})}))},title:"Event Summary",placeholder:"We're gonna get in there, we're gonna use our mouths, and we're gonna get out."}))},Rn=function(e){var t=e.form,n=e.update,a=e.state;return c.a.createElement(nt,null,c.a.createElement(mn,{content:"This event is public, so I want it to show up on the external site",checked:t.gig.public,onChange:function(e){return n(Object(o.a)({},t,{gig:Object(o.a)({},t.gig,{public:e})}))}}),t.gig.public&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ln,{type:fn,value:t.gig.summary,onInput:function(e){return n(Object(o.a)({},t,{gig:Object(o.a)({},t.gig,{summary:e})}))},title:"Public Summary",helpText:"Careful, real people will see this",placeholder:"Friends? Countrymen? Bueller?"}),c.a.createElement(un,{value:t.gig.description,onInput:function(e){return n(Object(o.a)({},t,{gig:Object(o.a)({},t.gig,{description:e})}))},title:"Public Description",helpText:"Careful, real people will see this",placeholder:"We the people, in order to kick a more perfect ass, I don't know where this is going"})),c.a.createElement(mn,{content:"No one has to come to this event (forum, fundatory, etc)",checked:!t.event.defaultAttend,onChange:function(e){return n(Object(o.a)({},t,{event:Object(o.a)({},t.event,{defaultAttend:!e})}))}}),c.a.createElement(mn,{content:"This event counts as a volunteer gig",checked:t.event.gigCount,onChange:function(e){return n(Object(o.a)({},t,{event:Object(o.a)({},t.event,{gigCount:e})}))}}),c.a.createElement(on,{type:fn,values:Tn,selected:t.event.repeat,onInput:function(e){return n(Object(o.a)({},t,{event:Object(o.a)({},t.event,{repeat:e})}))},title:"Repeat"}),c.a.createElement(ln,{type:pn,value:t.event.repeatUntil,onInput:function(e){return n(Object(o.a)({},t,{event:Object(o.a)({},t.event,{repeatUntil:e})}))},title:"Repeat Until",required:"No"!==t.event.repeat}),c.a.createElement("br",null),c.a.createElement(zt,{color:"is-primary",loading:Fe(a)},"Yeehaw"),Pe(a)&&c.a.createElement(mt,{error:a.error}))},Pn=function(){var e=Object(r.useState)(ke),t=Object(d.a)(e,2),n=t[0],a=t[1],l=Object(r.useState)(ve),u=Object(d.a)(l,2),i=u[0],p=u[1],E=Object(r.useState)(Ce),b=Object(d.a)(E,2),v=b[0],h=b[1],g=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(t,r){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Re(n)){e.next=2;break}return e.abrupt("return");case 2:return h(Se),e.next=5,St("google_docs/".concat(n.data[t].name),r);case 5:c=e.sent,h(Ae(c)),c.successful&&a(we(n.data.map((function(e,n){return n===t?r:e}))));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n,h,a]),O=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(t){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Re(n)){e.next=2;break}return e.abrupt("return");case 2:if(r=n.data[t]){e.next=5;break}return e.abrupt("return");case 5:return h(Se),e.next=8,It("google_docs/".concat(r.name));case 8:c=e.sent,h(Ae(c)),c.successful&&a(we(n.data.filter((function(e,n){return n!==t}))));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,h,a]),j=Object(r.useCallback)(Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Re(n)&&i.name&&i.url){e.next=2;break}return e.abrupt("return");case 2:return h(Se),e.next=5,St("google_docs",i);case 5:t=e.sent,h(Ae(t)),t.successful&&(a(we([].concat(Object(f.a)(n.data),[i]))),p(ve));case 8:case"end":return e.stop()}}),e)}))),[n,i,h,a,p]);return Object(r.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ct("google_docs");case 2:t=e.sent,a(Te(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),c.a.createElement(c.a.Fragment,null,c.a.createElement($e,null,"Document Links"),c.a.createElement(at,null,c.a.createElement(ft,{data:n,render:function(e){return c.a.createElement("table",{style:{borderSpacing:"5px",borderCollapse:"separate"}},e.map((function(e,t){return c.a.createElement("tr",{key:e.name},c.a.createElement("td",{style:{paddingRight:"10px"}},c.a.createElement("span",{style:{display:"inline-block",verticalAlign:"middle"}},e.name)),c.a.createElement("td",null,c.a.createElement(ln,{type:fn,value:e.url,onInput:function(n){return g(t,Object(o.a)({},e,{url:n}))},placeholder:"URL"})),c.a.createElement("td",null,c.a.createElement("span",{style:{display:"inline-block",verticalAlign:"middle"}},c.a.createElement(Mt,{click:function(){return O(t)}}))))})),c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("b",null,"New"))),c.a.createElement(Mn,{newLink:i,update:p,create:j}))}}),c.a.createElement(bt,{state:v})))},Mn=function(e){var t=e.newLink,n=e.update,a=e.create;return c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement(ln,{type:fn,value:t.name,onInput:function(e){return n(Object(o.a)({},t,{name:e}))},placeholder:"Name"})),c.a.createElement("td",null,c.a.createElement(ln,{type:fn,value:t.url,onInput:function(e){return n(Object(o.a)({},t,{url:e}))},placeholder:"URL"})),c.a.createElement("td",null,c.a.createElement(Yt,{onClick:a},"s\xed")))},Bn=function(){var e=Object(r.useState)(ke),t=Object(d.a)(e,2),n=t[0],a=t[1],l=Object(r.useState)(Ce),u=Object(d.a)(l,2),i=u[0],f=u[1],p=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Re(n)&&"Pending"===t.status){e.next=2;break}return e.abrupt("return");case 2:return f(Se),e.next=5,St("gig_requests/".concat(t.id,"/dismiss"),{});case 5:r=e.sent,f(Ae(r)),r.successful&&a(we(n.data.map((function(e){return e.id===t.id?Object(o.a)({},e,{status:"Dismissed"}):e}))));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,f,a]),E=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Re(n)&&"Dismissed"===t.status){e.next=2;break}return e.abrupt("return");case 2:return f(Se),e.next=5,St("gig_requests/".concat(t.id,"/reopen"),{});case 5:r=e.sent,f(Ae(r)),r.successful&&a(we(n.data.map((function(e){return e.id===t.id?Object(o.a)({},e,{status:"Pending"}):e}))));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,f,a]);return Object(r.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ct("gig_requests?all=true");case 2:t=e.sent,a(Te(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),c.a.createElement(c.a.Fragment,null,c.a.createElement($e,null,"Gig Requests"),c.a.createElement(at,null,c.a.createElement(ft,{data:Ie(n,(function(e){return e.filter((function(e){return"Pending"===e.status}))})),render:function(e){return c.a.createElement(Gn,{requests:e,reopen:E,dismiss:p})}}),c.a.createElement(bt,{state:i})),c.a.createElement($e,null,"Accepted Gig Requests"),c.a.createElement(at,null,c.a.createElement(ft,{data:Ie(n,(function(e){return e.filter((function(e){return"Accepted"===e.status}))})),render:function(e){return c.a.createElement(Gn,{requests:e,reopen:E,dismiss:p})}})),c.a.createElement($e,null,"Dismissed Gig Requests"),c.a.createElement(at,null,c.a.createElement(ft,{data:Ie(n,(function(e){return e.filter((function(e){return"Dismissed"===e.status}))})),render:function(e){return c.a.createElement(Gn,{requests:e,reopen:E,dismiss:p})}})))},Gn=function(e){var t=e.requests,n=e.reopen,a=e.dismiss;return c.a.createElement(gt,{scrollable:!0,style:{width:"100%"}},c.a.createElement("thead",null,c.a.createElement("tr",{style:{width:"100%"}},c.a.createElement("th",null,"When Submitted"),c.a.createElement("th",null,"Event Name"),c.a.createElement("th",null,"Event Date"),c.a.createElement("th",null,"Contact"),c.a.createElement("th",null,"Description"))),c.a.createElement("tbody",null,t.map((function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(Yn,{request:e}),c.a.createElement(_n,{request:e,reopen:n,dismiss:a}))}))))},Yn=function(e){var t=e.request;return c.a.createElement("tr",{key:t.id,className:"no-bottom-border"},c.a.createElement("td",null,Kt(t.time),c.a.createElement("br",null),Ht(t.time)),c.a.createElement("td",null,t.name),c.a.createElement("td",null,Kt(t.startTime),c.a.createElement("br",null),Ht(t.startTime),c.a.createElement("br",null),t.location),c.a.createElement("td",null,t.organization,c.a.createElement("br",null),t.contactName,c.a.createElement("br",null),c.a.createElement(st,{phone:t.contactPhone}),c.a.createElement("br",null),c.a.createElement(it,{email:t.contactEmail})),c.a.createElement("td",null,c.a.createElement("i",null,'"',t.comments||"no description given",'"')))},_n=function(e){var t,n,a=e.request,r=e.reopen,l=e.dismiss;switch(a.status){case"Pending":t=c.a.createElement(Yt,{onClick:function(){return l(a)}},"We do not deign"),n=c.a.createElement(_t,{color:"is-primary",route:x(Y(a.id))},"We deign");break;case"Accepted":t=c.a.createElement(Yt,null,"Too late to go back now"),n=c.a.createElement(_t,{route:g(a.event,null)},"We deigned");break;case"Dismissed":t=c.a.createElement(Yt,null,"We did not deign"),n=c.a.createElement(Yt,{onClick:function(){return r(a)}},"Hol up")}return c.a.createElement("tr",{className:"no-bottom-border"},c.a.createElement("td",{colSpan:5},c.a.createElement(Bt,{alignment:"is-right"},t,n)))},zn=function(e){var t=e.tab,n=Object(r.useState)(ke),a=Object(d.a)(n,2),l=a[0],u=a[1],i=Object(r.useState)(Ce),f=Object(d.a)(i,2),p=f[0],E=f[1],b=Object(r.useState)(ke),v=Object(d.a)(b,2),h=v[0],g=v[1],O=Object(r.useState)(Ce),j=Object(d.a)(O,2),y=j[0],k=j[1],w=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(t,n){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Re(h)){e.next=2;break}return e.abrupt("return");case 2:return k(Se),g(we(h.data.map((function(e){return e.id===t?Object(o.a)({},e,{resolved:n}):e})))),a="transactions/".concat(t,"/resolve/").concat(n),e.next=7,St(a,{});case 7:r=e.sent,k(Ae(r));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[h,g,k]),x=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Re(l)){e.next=2;break}return e.abrupt("return");case 2:return E(Se),u(we(l.data.map((function(e){return e.name===t.name?t:e})))),n="fees/".concat(t.name,"/").concat(t.amount),e.next=7,St(n,{});case 7:a=e.sent,E(Ae(a));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[l,u,E]);return Object(r.useEffect)((function(){var e=function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ct("fees");case 2:t=e.sent,u(Te(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ct("transactions");case 2:t=e.sent,g(Te(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t()}),[]),c.a.createElement("div",null,c.a.createElement($e,null,"Dues"),c.a.createElement(tt,null,c.a.createElement(nt,null,c.a.createElement(at,null,c.a.createElement(ft,{data:l,render:function(e){return c.a.createElement("div",null,e.map((function(e){return c.a.createElement(Wn,{fee:e,update:x})})))}}),c.a.createElement(bt,{state:p}))),c.a.createElement(nt,null,c.a.createElement("ul",null,c.a.createElement(Un,{tab:J}),c.a.createElement(Un,{tab:Q}),c.a.createElement(Un,{tab:$})))),c.a.createElement($e,null,"Transactions"),c.a.createElement(at,null,c.a.createElement(ft,{data:h,render:function(e){return c.a.createElement(Hn,{transactions:e,state:y,resolve:w})}})),c.a.createElement(Ln,{tab:t}))},Ln=function(e){var t=e.tab;switch(null===t||void 0===t?void 0:t.route){case"assign-dues":return c.a.createElement(Kn,null);case"assign-late-dues":return c.a.createElement(Jn,null);case"batch-transactions":return c.a.createElement(Qn,null);default:return c.a.createElement(c.a.Fragment,null)}},Un=function(e){var t=e.tab,n=be().replaceRoute;return c.a.createElement("li",{style:{marginBottom:"10px"}},c.a.createElement("button",{className:"button is-primary",onClick:function(){return n(x(K(t)))}},t.name))},Wn=function(e){var t=e.fee,n=e.update;return c.a.createElement(ln,{key:t.name,type:gn,value:t.amount,onInput:function(e){return n(Object(o.a)({},t,{amount:e||0}))},horizontal:!0,title:t.description})},Hn=function(e){var t=e.transactions,n=e.state,a=e.resolve;return c.a.createElement(c.a.Fragment,null,c.a.createElement(gt,{striped:!0,fullwidth:!0,scrollable:!0},c.a.createElement("tbody",null,t.sort((function(e,t){return e.time-t.time})).map((function(e){return c.a.createElement("tr",{className:"no-bottom-border"},c.a.createElement("td",null,Jt(e.time)),c.a.createElement("td",null,c.a.createElement(ht,{email:e.member})),c.a.createElement("td",null,e.type),c.a.createElement("td",null,"".concat(e.amount)),c.a.createElement("td",null,e.resolved?"Resolved":"Outstanding"),c.a.createElement("td",null,c.a.createElement(Yt,{size:"is-small",color:e.resolved?void 0:"is-primary",onClick:function(){return a(e.id,!e.resolved)}},e.resolved?"Unresolve":"Resolve")),c.a.createElement("td",null,e.description))})))),c.a.createElement(bt,{state:n}))},Xn=function(e){var t=e.text;return c.a.createElement("p",{style:{marginBottom:"10px"}},c.a.createElement("h3",{className:"subtitle is-3"},"Behold the ",t))},Vn=function(){return c.a.createElement(_t,{className:"is-pulled-right",route:x(K(null))},"ABORT! ABORT!")},Kn=function(){var e=be().replaceRoute,t=Object(r.useState)(Ce),n=Object(d.a)(t,2),a=n[0],l=n[1],u=Object(r.useCallback)(Object(m.a)(s.a.mark((function t(){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(Se),t.next=3,St("fees/charge_dues",{});case 3:(n=t.sent).successful?e(x(K(null))):l(Ne(n.error));case 5:case"end":return t.stop()}}),t)}))),[l,e]);return c.a.createElement(vt,{close:function(){return e(x(K(null)))}},c.a.createElement("div",{style:{padding:"20px"}},c.a.createElement($e,null,"You are fixin' to assign dues to everyone"," ",c.a.createElement("b",null,"who has not yet been assigned dues this semester.")),c.a.createElement(Xn,{text:"power"}),c.a.createElement(Xn,{text:"corruption"}),c.a.createElement(Xn,{text:"folksy phrasing"}),Pe(a)&&c.a.createElement(mt,{error:a.error}),c.a.createElement("br",null),c.a.createElement(Yt,{element:"a",color:"is-primary",className:"is-pulled-left",loading:Fe(a),onClick:u},"Dolla dolla bill, y'all"),c.a.createElement(Vn,null),c.a.createElement("br",null)))},Jn=function(){var e=be().replaceRoute,t=Object(r.useState)(Ce),n=Object(d.a)(t,2),a=n[0],l=n[1],u=Object(r.useCallback)(Object(m.a)(s.a.mark((function t(){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(Se),t.next=3,St("fees/charge_late_dues",{});case 3:(n=t.sent).successful?e(x(K(null))):l(Ne(n.error));case 5:case"end":return t.stop()}}),t)}))),[l,e]);return c.a.createElement(vt,{close:function(){return e(x(K(null)))}},c.a.createElement("div",{style:{padding:"20px"}},c.a.createElement($e,null,"You are fixin' to assign late dues to everyone"," ",c.a.createElement("b",null,"who has not yet paid their dues this semester.")),c.a.createElement(Xn,{text:"power"}),c.a.createElement(Xn,{text:"corruption"}),c.a.createElement(Xn,{text:"folksy phrasing"}),Pe(a)&&c.a.createElement(mt,{error:a.error}),c.a.createElement("br",null),c.a.createElement(Yt,{element:"a",color:"is-primary",className:"is-pulled-left",loading:Fe(a),onClick:u},"Dolla dolla bill, y'all"),c.a.createElement(Vn,null),c.a.createElement("br",null)))},Qn=function(){var e=Object(r.useContext)(Ee),t=e.members,n=e.info,a=be().replaceRoute,l=Object(r.useState)(ge),u=Object(d.a)(l,2),i=u[0],p=u[1],E=Object(r.useState)(Ce),b=Object(d.a)(E,2),v=b[0],h=b[1],g=Object(r.useCallback)((function(){return a(x(K(null)))}),[a]),O=Object(r.useCallback)((function(e){i.members.includes(e)?p(Object(o.a)({},i,{members:i.members.filter((function(t){return t!==e}))})):p(Object(o.a)({},i,{members:[].concat(Object(f.a)(i.members),[e])}))}),[i,p]),j=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),h(Se),e.next=4,St("fees/create_batch",i);case 4:(n=e.sent).successful?g():h(Ne(n.error));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[h,i,g]);return c.a.createElement(Et,{data:we({}),close:g,render:function(){return c.a.createElement("form",{onSubmit:j},c.a.createElement(Pt,{content:"cancel",click:g}),c.a.createElement($e,{centered:!0},"Batch Transactions"),c.a.createElement(on,{type:fn,values:(null===n||void 0===n?void 0:n.transactionTypes)||[],selected:i.type,onInput:function(e){return p(Object(o.a)({},i,{type:e}))},title:"What's its persuasion?"}),c.a.createElement(ln,{type:fn,value:i.description,onInput:function(e){return p(Object(o.a)({},i,{description:e}))},title:"What's it for?",placeholder:"Scotland Trip 2029",required:!0}),c.a.createElement(ln,{type:gn,value:i.amount,onInput:function(e){return p(Object(o.a)({},i,{amount:e}))},title:"How many doll hairs?",prefix:"$",placeholder:"420",required:!0}),c.a.createElement(rn,{title:"Whomdst"},c.a.createElement(at,null,c.a.createElement("ul",{style:{columnCount:3,columnGap:"20px"}},t.map((function(e){return c.a.createElement($n,{member:e,selected:i.members.includes(e.email),select:O})}))))),c.a.createElement("br",null),c.a.createElement(zt,{color:"is-primary",loading:Fe(v)},"My mind on my money and my money on my mind"),Pe(v)&&c.a.createElement(mt,{error:v.error}))}})},$n=function(e){var t=e.member,n=e.selected,a=e.select;return c.a.createElement("li",null,c.a.createElement(mn,{content:Ge(t),checked:n,onChange:function(){return a(t.email)}}))},Zn={display:"inline-block",verticalAlign:"middle"},ea=function(){var e=Object(r.useContext)(Ee).info,t=Object(r.useState)(ke),n=Object(d.a)(t,2),a=n[0],l=n[1],u=Object(r.useState)(Ce),o=Object(d.a)(u,2),i=o[0],p=o[1],E=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(t,n,r){var c,u,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Re(a)){e.next=2;break}return e.abrupt("return");case 2:return p(Se),c=n?St("roles/remove",{role:t.name,member:n.email}):Promise.resolve(xt(null)),u=r?St("roles/add",{role:t.name,member:r.email}):Promise.resolve(xt(null)),e.next=7,Dt(c,u);case 7:o=e.sent,p(Ae(o)),o.successful&&l(we([].concat(Object(f.a)(a.data.filter((function(e){return e.role.name!==t.name||e.member.email!==(null===n||void 0===n?void 0:n.email)}))),Object(f.a)(r?[{role:t,member:r}]:[]))));case 10:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[a,p,l]);Object(r.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ct("member_roles");case 2:t=e.sent,l(Te(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[l]);return c.a.createElement(c.a.Fragment,null,c.a.createElement($e,null,"Positions"),c.a.createElement(at,null,c.a.createElement(ft,{data:a,render:function(t){return c.a.createElement("table",{style:{borderSpacing:"5px",borderCollapse:"separate"}},c.a.createElement("tbody",null,function(t){return e.roles.sort((function(e,t){return e.rank-t.rank})).flatMap((function(e){var n=t.filter((function(t){return t.role.name===e.name})).map((function(e){return e.member}));return[].concat(Object(f.a)(n),[null]).slice(0,e.maxQuantity).map((function(t){return[e,t]}))}))}(t).map((function(e){var t=Object(d.a)(e,2),n=t[0],a=t[1];return c.a.createElement(ta,{role:n,member:a,toggle:E})}))))}}),c.a.createElement(bt,{state:i})))},ta=function(e){var t=e.role,n=e.member,a=e.toggle,l=Object(r.useContext)(Ee).members;return c.a.createElement("tr",null,c.a.createElement("td",{style:{paddingRight:"10px"}},c.a.createElement("span",{style:Zn},t.name)),c.a.createElement("td",null,c.a.createElement(on,{type:yn(l),values:[null].concat(Object(f.a)(l)),selected:n,onInput:function(e){return a(t,n,e)}})))},na=function(e){var t=e.tab,n=Object(r.useState)(ke),a=Object(d.a)(n,2),l=a[0],u=a[1];return Object(r.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ct("semesters");case 2:t=e.sent,u(Te(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[u]),c.a.createElement(c.a.Fragment,null,c.a.createElement($e,null,"Edit the Semester"),c.a.createElement(ft,{data:l,render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ca,null),c.a.createElement(Bt,{alignment:"is-centered"},[Z,te,ee].map((function(e){return c.a.createElement(_t,{color:"is-primary",route:x(L(e))},e.name)}))),c.a.createElement("br",null),c.a.createElement(la,{tab:t,semesters:e,updateSemesters:function(e){return u(we(e))}}))}}))},aa={name:"",startDate:"",endDate:"",gigRequirement:null},ra=function(e){return{name:e.name,startDate:Qt(e.startDate)||(new Date).getTime(),endDate:Qt(e.endDate)||(new Date).getTime(),gigRequirement:e.gigRequirement||5}},ca=function(){return c.a.createElement(at,null,c.a.createElement("p",null,"This is a form that will allow you to add and edit semesters in the database. It will also change the current semester."),c.a.createElement("br",null),c.a.createElement("p",null,"Changing the current semester will change the entire face of the website. Only stuff from the current semester is shown on the main website. In new semesters, every member's status is by default 'inactive' until they log in and confirm themself."),c.a.createElement("br",null),c.a.createElement("p",null,"With great power comes great potential to screw everyone over. Use this feature wisely."),c.a.createElement("br",null),c.a.createElement("p",null,"Now, pick your poison:"))},la=function(e){var t=e.tab,n=e.semesters,a=e.updateSemesters;switch(null===t||void 0===t?void 0:t.route){case"change":return c.a.createElement(ua,{semesters:n});case"edit":return c.a.createElement(ia,{semesters:n,updateSemesters:a});case"create":return c.a.createElement(oa,{semesters:n,updateSemesters:a});default:return c.a.createElement(c.a.Fragment,null)}},ua=function(e){var t=e.semesters,n=Object(r.useContext)(Ee),a=n.currentSemester,l=n.updateCurrentSemester,u=be().replaceRoute,o=Object(r.useState)(a),i=Object(d.a)(o,2),f=i[0],p=i[1],E=Object(r.useState)(Ce),b=Object(d.a)(E,2),v=b[0],h=b[1],g=Object(r.useCallback)((function(){return u(x(L(null)))}),[u]),O=Object(r.useCallback)(Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f&&f.name!==(null===a||void 0===a?void 0:a.name)){e.next=2;break}return e.abrupt("return");case 2:return h(Se),e.next=5,St("semesters/".concat(f.name,"/set_current"),{});case 5:t=e.sent,h(Ae(t)),t.successful&&(l(f),window.location.reload(!0),g());case 8:case"end":return e.stop()}}),e)}))),[f,a,l,g]);return c.a.createElement(vt,{close:g},c.a.createElement(nt,null,c.a.createElement("h2",{className:"subtitle is-2"},"Which semester do you want to switch to?"),c.a.createElement("p",null,"This will change everything. You really only want to do this at the beginning of a new semester. If it's not a solstice, then don't."),c.a.createElement("br",null),c.a.createElement("div",{className:"field is-grouped is-grouped-centered"},c.a.createElement(on,{type:wn(t),values:t,selected:f,onInput:function(e){return e&&p(e)}})),c.a.createElement("br",null),c.a.createElement(Yt,{element:"a",color:"is-primary",className:"is-pulled-left",loading:Fe(v),onClick:O},"The ol' Glub Hub switcharoo"),c.a.createElement(Yt,{element:"a",className:"is-pulled-right",onClick:g},"ABORT! ABORT!"),c.a.createElement("br",null),Pe(v)&&c.a.createElement(mt,{error:v.error})))},oa=function(e){var t=e.semesters,n=e.updateSemesters,a=be().replaceRoute,l=Object(r.useState)(aa),u=Object(d.a)(l,2),i=u[0],p=u[1],E=Object(r.useState)(Ce),b=Object(d.a)(E,2),v=b[0],h=b[1],g=Object(r.useCallback)((function(){return a(x(L(null)))}),[a]),O=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(a){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),h(Se),r=ra(i),e.next=5,St("semesters",r);case 5:c=e.sent,h(Ae(c)),c.successful&&(n([].concat(Object(f.a)(t),[Object(o.a)({},r,{current:!1})]).sort((function(e,t){return e.startDate-t.startDate}))),g());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[h,i,n,t,g]);return c.a.createElement(Et,{data:we({}),close:g,render:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(Pt,{content:"cancel",click:g}),c.a.createElement("div",{className:"column",style:{textAlign:"center"}},c.a.createElement("h2",{className:"subtitle is-2"},"Time marches on"),c.a.createElement("p",null,"Another day, another dollar. And also another semester. Make a new semester baby now, and switch over to it whenever you want to later, but before it turns 18."),c.a.createElement("br",null),c.a.createElement(sa,{form:i,update:p,state:v,submit:O,submitMessage:"Break your water"})))}})},ia=function(e){var t,n=e.semesters,a=e.updateSemesters,l=Object(r.useContext)(Ee).currentSemester,u=be().replaceRoute,i=Object(r.useState)({name:(t=l).name,startDate:Xt(t.startDate),endDate:Xt(t.endDate),gigRequirement:t.gigRequirement}),f=Object(d.a)(i,2),p=f[0],E=f[1],b=Object(r.useState)(Ce),v=Object(d.a)(b,2),h=v[0],g=v[1],O=Object(r.useCallback)((function(){return u(x(L(null)))}),[u]),j=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(t){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),g(Se),r=ra(p),e.next=5,St("semesters",r);case 5:c=e.sent,g(Ae(c)),c.successful&&(a(n.map((function(e){return e.name===(null===l||void 0===l?void 0:l.name)?Object(o.a)({},r,{current:!0}):e}))),O());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[g,p,l,a,n,O]);return c.a.createElement(Et,{data:we({}),close:O,render:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(Pt,{content:"cancel",click:O}),c.a.createElement("div",{className:"column",style:{textAlign:"center"}},c.a.createElement("h2",{className:"subtitle is-2"},"Do it in pencil, not pen"),c.a.createElement("p",null,"Select the semester you want to make changes to, and then make the changes. You cannot edit the past, sorry."),c.a.createElement("br",null),c.a.createElement(sa,{form:p,update:E,state:h,submit:j,submitMessage:"Do this please"})))}})},sa=function(e){var t=e.form,n=e.state,a=e.submitMessage,r=e.submit,l=e.update;return c.a.createElement("form",{onSubmit:r},c.a.createElement(nt,{narrow:!0},c.a.createElement(ln,{type:fn,value:t.name,onInput:function(e){return l(Object(o.a)({},t,{name:e}))},title:"Semester Name",placeholder:"Fall 20XX",required:!0}),c.a.createElement(ln,{type:pn,value:t.startDate,onInput:function(e){return l(Object(o.a)({},t,{startDate:e}))},title:"The first day of the rest of your life",required:!0}),c.a.createElement(ln,{type:pn,value:t.endDate,onInput:function(e){return l(Object(o.a)({},t,{endDate:e}))},title:"The last day of the rest of your life",required:!0}),c.a.createElement(ln,{type:gn,value:t.gigRequirement,onInput:function(e){return l(Object(o.a)({},t,{gigRequirement:e}))},title:"Number of required volunteer gigs",placeholder:"5",required:!0}),c.a.createElement("br",null),c.a.createElement(zt,{color:"is-primary",loading:Fe(n)},a),c.a.createElement("br",null),Pe(n)&&c.a.createElement(mt,{error:n.error})))},ma=function(){var e=Object(r.useContext)(Ee).info,t=Object(r.useState)(ke),n=Object(d.a)(t,2),a=n[0],l=n[1],u=Object(r.useState)(Ce),o=Object(d.a)(u,2),i=o[0],p=o[1],E=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(t,n){var r,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Re(a)){e.next=2;break}return e.abrupt("return");case 2:return p(Se),l(we(n?[].concat(Object(f.a)(a.data),[t]):a.data.filter((function(e){return!He(e,t)})))),r={name:t.permission,eventType:t.eventType},c="permissions/".concat(t.role,"/").concat(n?"enable":"disable"),e.next=8,St(c,r);case 8:u=e.sent,De(u,p);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[a,l,p]);return Object(r.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ct("role_permissions");case 2:t=e.sent,l(Te(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[l]),c.a.createElement(c.a.Fragment,null,c.a.createElement($e,null,"Permissions"),c.a.createElement(at,null,c.a.createElement(ft,{data:a,render:function(t){return c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("th",null),null===e||void 0===e?void 0:e.roles.map((function(e){return c.a.createElement("th",{className:"vertheader"},c.a.createElement("div",null,e.name))}))),null===e||void 0===e?void 0:e.permissions.map((function(n){return c.a.createElement(c.a.Fragment,null,da(n,e).map((function(a){return c.a.createElement("tr",null,c.a.createElement("td",{style:{whiteSpace:"nowrap"}},n.name,a&&":".concat(a)),e.roles.map((function(e){return c.a.createElement(fa,{rolePermission:{role:e.name,permission:n.name,eventType:a},currentPermissions:t,toggle:E})})))})))}))))}}),c.a.createElement(bt,{state:i})))},da=function(e,t){return[null].concat(Object(f.a)("Static"===e.type?[]:t.eventTypes.map((function(e){return e.name}))))},fa=function(e){var t=e.rolePermission,n=e.currentPermissions,a=e.toggle;return c.a.createElement("td",null,c.a.createElement(lt,{content:t.role},c.a.createElement(mn,{content:"",checked:n.some((function(e){return He(e,t)})),onChange:function(e){return a(t,e)}})))},pa=function(e){var t=e.confirm,n=e.state,a=e.cancel;return c.a.createElement("footer",{className:"modal-card-foot"},c.a.createElement(Yt,{onClick:t,loading:Fe(n),color:"is-danger"},"Delete"),c.a.createElement(Yt,{onClick:a},"Cancel"),Pe(n)&&c.a.createElement(mt,{error:n.error}))},Ea=function(e){return c.a.createElement("div",{className:"modal is-active"},c.a.createElement("div",{className:"modal-background",onClick:e.cancel}),c.a.createElement("div",{className:"modal-card"},c.a.createElement("header",{className:"modal-card-head"},c.a.createElement("p",{className:"modal-card-title"},e.title),c.a.createElement(Mt,{click:e.cancel})),c.a.createElement("section",{className:"modal-card-body"},e.children),c.a.createElement(pa,e)))},ba=function(){var e=Object(r.useState)(ke),t=Object(d.a)(e,2),n=t[0],a=t[1],l=Object(r.useState)(he),u=Object(d.a)(l,2),i=u[0],p=u[1],E=Object(r.useState)(Ce),b=Object(d.a)(E,2),v=b[0],h=b[1],g=Object(r.useState)(null),O=Object(d.a)(g,2),j=O[0],y=O[1],k=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(t){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(Se),r={name:t.name,description:t.description},e.next=4,St("uniforms/".concat(t.id),r);case 4:c=e.sent,h(Ae(c)),c.successful&&Re(n)&&a(we(n.data.map((function(e){return e.id===t.id?t:e}))));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[h,n,a]),w=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(Se),e.next=3,It("uniforms/".concat(t.id));case 3:r=e.sent,h(Ae(r)),r.successful&&Re(n)&&a(we(n.data.filter((function(e){return e.id!==t.id}))));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[h,n,a]),x=Object(r.useCallback)(Object(m.a)(s.a.mark((function e(){var t,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(Se),t={name:i.name,description:i.description},e.next=4,Nt("uniforms",t);case 4:r=e.sent,h(Ae(r)),r.successful&&Re(n)&&(a(we([].concat(Object(f.a)(n.data),[Object(o.a)({},i,{id:r.data.id})]))),p(he));case 7:case"end":return e.stop()}}),e)}))),[h,n,a,i,p]);return Object(r.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ct("uniforms");case 2:t=e.sent,a(Te(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),c.a.createElement("div",{style:{width:"100%"}},c.a.createElement($e,null,"Uniforms"),c.a.createElement(at,null,c.a.createElement(ft,{data:n,render:function(e){return c.a.createElement("table",{style:{width:"100%",borderSpacing:"5px",borderCollapse:"separate"}},c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("b",null,"Name")),c.a.createElement("td",null,c.a.createElement("b",null,"Description"))),e.map((function(e){return c.a.createElement(va,{uniform:e,update:k,tryToDelete:y})})),c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("b",null,"New"))),c.a.createElement(ha,{uniform:i,update:p,create:x}))}}),c.a.createElement(bt,{state:v}),j&&c.a.createElement(ga,{uniform:j,state:v,cancel:function(){return y(null)},confirm:function(){return w(j)}})))},va=function(e){var t=e.uniform,n=e.update,a=e.tryToDelete;return c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement(ln,{type:fn,value:t.name,onInput:function(e){return n(Object(o.a)({},t,{name:e}))},placeholder:"Name"})),c.a.createElement("td",null,c.a.createElement(un,{value:t.description||"",onInput:function(e){return n(Object(o.a)({},t,{description:e}))},placeholder:"Description"})),c.a.createElement("td",null,c.a.createElement("span",{style:{display:"inline-block",verticalAlign:"middle"}},c.a.createElement(Mt,{click:function(){return a(t)}}))))},ha=function(e){var t=e.uniform,n=e.update,a=e.create;return c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement(ln,{type:fn,value:t.name,onInput:function(e){return n(Object(o.a)({},t,{name:e}))},placeholder:"Name"})),c.a.createElement("td",null,c.a.createElement(un,{value:t.description||"",onInput:function(e){return n(Object(o.a)({},t,{description:e}))},placeholder:"Description"})),c.a.createElement("td",null,c.a.createElement(Yt,{color:"is-primary",onClick:a},"Suit up.")))},ga=function(e){var t=e.uniform,n=e.state,a=e.cancel,r=e.confirm;return c.a.createElement(Ea,{title:"Delete uniform ".concat(t.name,"?"),cancel:a,confirm:r,state:n},c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"Are you sure you want to delete the ",t.name," uniform?"),c.a.createElement("p",null,c.a.createElement("i",null,"Note: all events that have this uniform will no longer have a uniform."))))},Oa=n(39),ja=n.n(Oa),ya=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement($e,null,"Webmaster Tools"),c.a.createElement(at,null,c.a.createElement(tt,null,c.a.createElement(ka,{title:"API",uploadUrl:"https://gleeclub.gatech.edu/cgi-bin/admin_tools/upload_api"}),c.a.createElement(ot,{vertical:!0}),c.a.createElement(ka,{title:"frontend",uploadUrl:"https://gleeclub.gatech.edu/cgi-bin/api/upload_frontend"}),c.a.createElement(ot,{vertical:!0}),c.a.createElement(nt,null,c.a.createElement("b",null,"Copy your token:"),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(ja.a,{text:ze()||""},c.a.createElement(Yt,null,"Uno Tokeno"))))))},ka=function(e){var t=e.title,n=e.uploadUrl,a=Object(r.useState)(null),l=Object(d.a)(a,2),u=l[0],o=l[1],i=Object(r.useState)(Ce),f=Object(d.a)(i,2),p=f[0],E=f[1],b=Object(r.useCallback)(Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=3;break}return alert("fam. upload a file."),e.abrupt("return");case 3:return e.prev=3,E(Se),e.next=7,fetch(n,{method:"POST",headers:{token:ze()||""},body:u});case 7:if(!(t=e.sent).ok){e.next=13;break}E(Ce),o(null),e.next=17;break;case 13:return e.next=15,wt(t);case 15:a=e.sent,E(Ne(a));case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(3),E(Ne(kt(0,"failed to make request")));case 22:case"end":return e.stop()}}),e,null,[[3,19]])}))),[u,n,E,o]);return c.a.createElement(nt,null,c.a.createElement(dn,{file:u,selectFile:o,title:"Upload the ".concat(t,":")}),c.a.createElement(Yt,{onClick:b,loading:Fe(p),style:{marginTop:"10px"}},"Send it!"),Pe(p)&&c.a.createElement(mt,{error:p.error}))},wa=function(e){var t=e.tab,n=be().goToRoute,a=Object(r.useContext)(Ee).user;return c.a.createElement(rt,null,c.a.createElement(ct,null,c.a.createElement(tt,null,c.a.createElement(Ot,{listItems:we(a?Ve(a):[]),isSelected:function(e){return e.route===(null===t||void 0===t?void 0:t.route)},messageIfEmpty:"You have no officer permissions. Perish.",onSelect:function(e){return n(x(e))},render:function(e){return c.a.createElement("td",null,e.name)}}),c.a.createElement("div",null,t?c.a.createElement(xa,{tab:t}):c.a.createElement(at,null,"Please select a menu item")))))},xa=function(e){var t=e.tab;switch(t.route){case"absence-requests":return c.a.createElement(Zt,null);case"create-event":return c.a.createElement(Dn,{gigRequestId:t.gigRequestId});case"document-links":return c.a.createElement(Pn,null);case"gig-requests":return c.a.createElement(Bn,null);case"money":return c.a.createElement(zn,{tab:t.tab});case"officer-positions":return c.a.createElement(ea,null);case"semesters":return c.a.createElement(na,{tab:t.tab});case"site-permissions":return c.a.createElement(ma,null);case"uniforms":return c.a.createElement(ba,null);case"webmaster-tools":return c.a.createElement(ya,null)}},Ca=function(e){var t=e.event,n=be().goToRoute,a=Object(r.useState)(ke),l=Object(d.a)(a,2),u=l[0],o=l[1];return Object(r.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ct("events/".concat(t.id,"/carpools"));case 2:n=e.sent,o(Te(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,o]),c.a.createElement(ft,{data:u,render:function(e){return c.a.createElement(c.a.Fragment,null,0===e.length?c.a.createElement("div",null,"No carpools set for this event."):c.a.createElement(gt,{scrollable:!0},e.map((function(e){return c.a.createElement(Sa,{includeIcon:!0,carpool:e,event:t,selection:{selected:[],selectEmptyCarpool:function(){},select:function(e){return n(v(e,null))}}})}))),c.a.createElement(pt,{permission:"edit-carpool"},c.a.createElement("div",{style:{padding:"10px"}},c.a.createElement(_t,{route:O(t.id)},"Edit Carpools"))))}})},Sa=function(e){var t=e.event,n=e.carpool,a=e.selection,r=e.includeIcon;return c.a.createElement(c.a.Fragment,null,c.a.createElement("thead",null,c.a.createElement(Ia,{member:n.driver,event:t,isDriver:!0,selection:a,includeIcon:r})),c.a.createElement("tbody",null,0===n.passengers.length?c.a.createElement(Na,{select:function(){return null===a||void 0===a?void 0:a.selectEmptyCarpool(n.driver.email)}}):c.a.createElement(c.a.Fragment,null,n.passengers.map((function(e,n){return c.a.createElement(Ia,{member:e,event:t,selection:a,includeIcon:r&&0===n})})))))},Na=function(e){var t=e.select;return c.a.createElement("tr",null,c.a.createElement("td",{colSpan:5,style:{width:"100%"},onClick:t},c.a.createElement("article",{className:"message"},c.a.createElement("div",{className:"message-body"},"It sure is lonely here..."))))},Ia=function(e){var t,n=null===(t=e.selection)||void 0===t?void 0:t.selected.some((function(t){return t===e.member.email})),a=e.member.passengers?"".concat(e.member.passengers):"",r=function(t){var n=t.children;return e.isDriver?c.a.createElement("th",null,n):c.a.createElement("td",null,n)};return c.a.createElement("tr",{onClick:function(){var t;return null===(t=e.selection)||void 0===t?void 0:t.select(e.member.email)},style:{cursor:"pointer",width:"100%",minWidth:"100%"},className:n?"is-selected":void 0},c.a.createElement(r,null,e.includeIcon&&c.a.createElement("span",{className:"icon"},c.a.createElement("i",{className:"fas fa-"+(e.isDriver?"user":"users")}))),c.a.createElement(r,null,Ge(e.member)),c.a.createElement(r,null,e.member.location),c.a.createElement(r,null,a),c.a.createElement(r,null,c.a.createElement(dt,{event:Object(o.a)({},e.event,{attendance:e.attendance||null})})))},Ta=function(e){var t=e.eventId,n=Object(r.useContext)(Ee).members,a=be().goToRoute,l=Object(r.useState)(ke),u=Object(d.a)(l,2),i=u[0],p=u[1],E=Object(r.useState)([]),b=Object(d.a)(E,2),v=b[0],h=b[1],O=Object(r.useState)(Ce),j=Object(d.a)(O,2),y=j[0],k=j[1],w=Object(r.useCallback)((function(){if(!Re(i)||!v.length)return null;var e=Da(n,i.data.carpools),t=v.map((function(t){return e.find((function(e){return e.email===t}))}));return t.every((function(e){return!!e}))?[i.data,t]:null}),[i,v,n]),x=Object(r.useCallback)((function(e){v.includes(e)?h(v.filter((function(t){return t!==e}))):h([].concat(Object(f.a)(v),[e]))}),[v,h]),C=Object(r.useCallback)((function(){Re(i)&&v.length&&(p(we(Object(o.a)({},i.data,{carpools:i.data.carpools.map((function(e){return{driver:e.driver,passengers:e.passengers.filter((function(e){return v.every((function(t){return t!==e.email}))}))}})).filter((function(e){return v.every((function(t){return t!==e.driver.email}))}))}))),h([]))}),[i,v,p,h]),S=Object(r.useCallback)((function(){var e=w();if(e){var t=Object(d.a)(e,2),n=t[0],a=t[1],r=a[0],c=a.slice(1);h([]),p(we(Object(o.a)({},n,{carpools:[].concat(Object(f.a)(n.carpools),[{driver:r,passengers:c}])})))}}),[p,h,w]),N=Object(r.useCallback)(Object(m.a)(s.a.mark((function e(){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Re(i)){e.next=2;break}return e.abrupt("return");case 2:return k(Se),n=i.data.carpools.map((function(e){return{driver:e.driver.email,passengers:e.passengers.map((function(e){return e.email}))}})),e.next=6,St("events/".concat(t,"/carpools"),n);case 6:(r=e.sent).successful?a(g(t,T)):k(Ne(r.error));case 8:case"end":return e.stop()}}),e)}))),[i,k,t,a]);Object(r.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var n,a,r,c,l,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="events/".concat(t),e.next=3,Ft(Ct(n),Ct(n+"/see_whos_attending"),Ct(n+"/carpools"));case 3:(a=e.sent).successful?(r=Object(d.a)(a.data,3),c=r[0],l=r[1],u=r[2],p(we({event:c,attendance:l,carpools:Fa(u)}))):p(xe(a.error));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,p]);var I={selected:v,select:x,selectEmptyCarpool:function(){}};return c.a.createElement(rt,null,c.a.createElement(ct,null,c.a.createElement(ft,{data:i,render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement($e,null,"Carpools for ",e.event.name),c.a.createElement(tt,null,c.a.createElement(nt,null,c.a.createElement(at,null,c.a.createElement(Aa,{data:e,selection:I,moveBackToUnassigned:C}))),c.a.createElement(nt,null,c.a.createElement(at,null,c.a.createElement("div",{style:{width:"100%",paddingBottom:"10px"}},c.a.createElement(_t,{route:g(t,T),className:"is-pulled-left"},"Cancel"),c.a.createElement(Yt,{color:"is-primary",className:"is-pulled-right",loading:Fe(y),onClick:N},"Update Carpools"),Pe(y)&&c.a.createElement(mt,{error:y.error})),c.a.createElement(gt,{style:{width:"100%"}},e.carpools.map((function(t){return c.a.createElement(Sa,{carpool:t,event:e.event,includeIcon:!0,selection:I})}))),c.a.createElement(Yt,{fullwidth:!0,onClick:S},"Pick a driver and then click here to add new carpool")))))}})))},Aa=function(e){var t=e.data,n=e.selection,a=e.moveBackToUnassigned,l=Object(r.useContext)(Ee).members,u=Da(l,t.carpools);return u.length?c.a.createElement(gt,null,c.a.createElement("tbody",null,u.map((function(e){return c.a.createElement(Ia,{member:e,event:Object(o.a)({},t.event,{attendance:null}),selection:n})})))):c.a.createElement("div",{onClick:a},c.a.createElement("i",null,"That's everyone!"))},Da=function(e,t){return e.filter((function(e){return!t.some((function(t){return qa(e.email,t)}))}))},Fa=function(e){return e.map((function(e){return{driver:e.driver,passengers:e.passengers.filter((function(t){return t.email!==e.driver.email}))}}))},qa=function(e,t){return t.driver.email===e||t.passengers.some((function(t){return t.email===e}))},Ra=n(13),Pa=function(){var e=Object(r.useContext)(Ee),t=e.user,n=e.info,a=be().goToRoute,l=Object(r.useState)(t?Ua(t):Wa(n)),u=Object(d.a)(l,2),o=u[0],i=u[1],f=Object(r.useState)(Ce),p=Object(d.a)(f,2),b=p[0],h=p[1],g=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(n){var r,c,l,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),h(Se),(r=!(!o.password&&!o.confirmPassword))||t){e.next=8;break}return alert("You must enter a password."),e.abrupt("return");case 8:if(o.password===o.confirmPassword){e.next=13;break}return alert("Your passwords don't match."),e.abrupt("return");case 13:if(o.section){e.next=16;break}return alert("You need a section, bucko."),e.abrupt("return");case 16:return c=r?Ra.Md5.hashStr(o.password):null,l=Ha(o,c),e.next=20,St(t?"members/profile":"members",l);case 20:u=e.sent,h(Ae(u)),u.successful&&(t?a(v(t.email,null)):(a(E),alert("You have successfully created an account with email ".concat(l.email,"!"))));case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[h,o,t,a]);return c.a.createElement(rt,null,c.a.createElement(ct,null,c.a.createElement($e,null,t?"Edit Profile":"Create Profile"),c.a.createElement(at,null,c.a.createElement(Ma,{loggedIn:!!t}),c.a.createElement("br",null),c.a.createElement(Ba,{form:o,update:i,user:t,submit:g,state:b}),Pe(b)&&c.a.createElement(mt,{error:b.error}))))},Ma=function(e){var t=function(e){return c.a.createElement("span",{style:{textDecoration:"line-through"}},e)};return e.loggedIn?c.a.createElement("p",null,"You can make changes to your stats here. It's important we know as much about you as possible to ",t("creep")," ",t("better serve you")," make you drive carpools. It'll also help your new friends get to know you!"):c.a.createElement("p",null,"Note that this registration is not mandatory. If you are unwilling to provide any of the required information, let an officer know and we will work out alternate means of registration.")},Ba=function(e){var t=e.form,n=e.user,a=e.state,r=e.submit,l=e.update;return c.a.createElement("form",{onSubmit:r},c.a.createElement(Ze,null,"Really Important Stuff"),c.a.createElement(rn,{horizontal:!0,title:"Name"},c.a.createElement(ln,{type:fn,value:t.firstName,onInput:function(e){return l(Object(o.a)({},t,{firstName:e}))},required:!0,placeholder:"First"}),c.a.createElement(ln,{type:fn,value:t.preferredName,onInput:function(e){return l(Object(o.a)({},t,{preferredName:e}))},placeholder:"Preferred (optional)"}),c.a.createElement(ln,{type:fn,value:t.lastName,onInput:function(e){return l(Object(o.a)({},t,{lastName:e}))},required:!0,placeholder:"Last"})),c.a.createElement(ln,{type:bn,value:t.email,onInput:function(e){return l(Object(o.a)({},t,{email:e}))},horizontal:!0,required:!0,title:"E-mail",placeholder:"gburdell3@gatech.edu"}),c.a.createElement(ln,{type:hn,value:t.phoneNumber,onInput:function(e){return l(Object(o.a)({},t,{phoneNumber:e}))},horizontal:!0,required:!0,title:"Phone Number",placeholder:"6788675309"}),c.a.createElement(rn,{horizontal:!0,title:"Password"},c.a.createElement(ln,{type:vn,value:t.password,onInput:function(e){return l(Object(o.a)({},t,{password:e}))},required:!0,placeholder:"Password"}),c.a.createElement(ln,{type:vn,value:t.confirmPassword,onInput:function(e){return l(Object(o.a)({},t,{confirmPassword:e}))},required:!0,placeholder:"Confirm Password"})),c.a.createElement(rn,{horizontal:!0,title:"Location"},c.a.createElement(_a,{form:t,update:l})),c.a.createElement(ln,{type:fn,value:t.major,onInput:function(e){return l(Object(o.a)({},t,{major:e}))},required:!0,horizontal:!0,title:"Major",placeholder:"Undecided Engineering"}),c.a.createElement(ln,{type:fn,value:t.hometown,onInput:function(e){return l(Object(o.a)({},t,{hometown:e}))},required:!0,horizontal:!0,title:"Hometown",placeholder:"Winslow, Arizona"}),c.a.createElement(rn,{horizontal:!0,title:"Car"},c.a.createElement(Ya,{form:t,update:l})),c.a.createElement(rn,{horizontal:!0,title:"Enrollment"},c.a.createElement(za,{form:t,update:l,user:n})),c.a.createElement(Ze,null,"Nice to Know"),c.a.createElement(ln,{type:fn,value:t.about,onInput:function(e){return l(Object(o.a)({},t,{about:e}))},horizontal:!0,title:"About",placeholder:"I like big butts and I cannot lie"}),c.a.createElement(ln,{type:fn,value:t.picture,onInput:function(e){return l(Object(o.a)({},t,{picture:e}))},horizontal:!0,title:"Picture URL",placeholder:"https://create.mylittlepony.movie/images/ponyparticon_bodybig.png"}),c.a.createElement(ln,{type:gn,value:t.arrivedAtTech,onInput:function(e){return l(Object(o.a)({},t,{arrivedAtTech:e||(new Date).getFullYear()}))},horizontal:!0,title:"Arrived at Tech",placeholder:"2099"}),c.a.createElement(Ga,{user:n,state:a}))},Ga=function(e){var t=e.user,n=e.state;return c.a.createElement(Bt,{alignment:"is-right"},t&&c.a.createElement(_t,{route:v(t.email,null)},"Back"),c.a.createElement(zt,{color:"is-primary",loading:Fe(n)},"Save"))},Ya=function(e){var t=e.form,n=e.update;return c.a.createElement("div",{className:"field is-grouped"},c.a.createElement(mn,{content:"I have a car",checked:t.passengers>0,onChange:function(e){return n(Object(o.a)({},t,{passengers:e?1:0}))}}),t.passengers>0?c.a.createElement(ln,{type:gn,value:t.passengers,onInput:function(e){return n(Object(o.a)({},t,{passengers:e||0}))},placeholder:"How many?",suffix:"passengers"}):"")},_a=function(e){var t=e.form,n=e.update;return c.a.createElement(c.a.Fragment,null,c.a.createElement(ln,{type:fn,value:t.location,onInput:function(e){return n(Object(o.a)({},t,{location:e}))},placeholder:"Glenn"}),c.a.createElement(an,null,c.a.createElement(Bt,{connected:!0},c.a.createElement(Yt,{color:t.onCampus?"is-primary":void 0,onClick:function(){return n(Object(o.a)({},t,{onCampus:!0}))}},"On-campus"),c.a.createElement(Yt,{color:t.onCampus?void 0:"is-primary",onClick:function(){return n(Object(o.a)({},t,{onCampus:!1}))}},"Off-campus"))))},za=function(e){var t=e.form,n=e.update,a=e.user,l=Object(r.useContext)(Ee).info;return c.a.createElement(rn,{horizontal:!0},c.a.createElement(an,null,c.a.createElement(Bt,{connected:!0},a&&c.a.createElement(La,{form:t,update:n,enrollment:null}),c.a.createElement(La,{form:t,update:n,enrollment:"Class"}),c.a.createElement(La,{form:t,update:n,enrollment:"Club"}))),c.a.createElement("span",{style:{width:"15px"}}),c.a.createElement(on,{type:On(l),values:(null===l||void 0===l?void 0:l.sections)||[],selected:t.section,onInput:function(e){return n(Object(o.a)({},t,{section:e}))}}))},La=function(e){var t=e.form,n=e.update,a=e.enrollment;return c.a.createElement(Yt,{color:t.enrollment===a?"is-primary":void 0,onClick:function(){return n(Object(o.a)({},t,{enrollment:a}))}},a||"Inactive")},Ua=function(e){return{firstName:e.firstName,preferredName:e.preferredName||"",lastName:e.lastName,email:e.email,password:"",confirmPassword:"",phoneNumber:e.phoneNumber,location:e.location,onCampus:e.onCampus||!1,major:e.major||"",hometown:e.hometown||"",passengers:e.passengers,enrollment:e.enrollment,section:e.section,about:e.about||"",picture:e.picture||"",arrivedAtTech:e.arrivedAtTech,gatewayDrug:e.gatewayDrug||"",conflicts:e.conflicts||"",dietaryRestrictions:e.dietaryRestrictions||""}},Wa=function(e){return{firstName:"",preferredName:"",lastName:"",email:"",password:"",confirmPassword:"",phoneNumber:"",location:"",onCampus:!0,major:"",hometown:"",passengers:0,enrollment:"Class",section:(null===e||void 0===e?void 0:e.sections[0])||null,about:"",picture:"",arrivedAtTech:(new Date).getFullYear(),gatewayDrug:"",conflicts:"",dietaryRestrictions:""}},Ha=function(e,t){return{email:e.email,firstName:e.firstName,preferredName:e.preferredName,lastName:e.lastName,passHash:t,phoneNumber:e.phoneNumber,picture:e.picture,passengers:e.passengers,location:e.location,onCampus:e.onCampus,about:e.about,major:e.major,hometown:e.hometown,arrivedAtTech:e.arrivedAtTech,gatewayDrug:e.gatewayDrug,conflicts:e.conflicts,dietaryRestrictions:e.dietaryRestrictions,section:e.section,enrollment:e.enrollment}},Xa=function(e){var t,n,a=e.event,l=e.updateEvent,u=e.deletedEvent,i=be().replaceRoute,f=Object(r.useContext)(Ee).info,p=Object(r.useState)(Ce),E=Object(d.a)(p,2),b=E[0],v=E[1],h=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.attendance){e.next=2;break}return e.abrupt("return");case 2:return v(Se),e.next=5,St(t,{});case 5:(r=e.sent).successful?(v(Ce),l(Object(o.a)({},a,{attendance:Object(o.a)({},a.attendance,{confirmed:!0,shouldAttend:n})}))):v(Ne(r.error));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[a,v,l]),O=Object(r.useCallback)((function(e){return h("events/".concat(a.id,"/rsvp/").concat(e),e)}),[a,h]),j=Object(r.useCallback)((function(){return h("events/".concat(a.id,"/confirm"),!0)}),[a,h]),y=(null===(t=a.gig)||void 0===t?void 0:t.uniform)&&(null===f||void 0===f?void 0:f.uniforms.find((function(e){var t;return e.id===(null===(t=a.gig)||void 0===t?void 0:t.uniform)})))||null;return c.a.createElement("div",null,c.a.createElement(Va,{event:a}),a.comments&&c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,a.comments),c.a.createElement("br",null),c.a.createElement("br",null)),c.a.createElement("span",null,c.a.createElement(Ka,{event:a,rsvpState:b,rsvp:O,confirm:j})),(null===(n=a.gig)||void 0===n?void 0:n.performanceTime)&&c.a.createElement("p",null,"Perform at: ",Ht(a.gig.performanceTime)),c.a.createElement("p",null,"This event is worth ",c.a.createElement("b",null,a.points)," points"),a.section&&c.a.createElement("p",null,"This event is for the ",a.section," section"),y&&c.a.createElement($a,{uniform:y}),c.a.createElement(Za,{event:a,requestAbsence:function(){return i(g(a.id,A))}}),c.a.createElement(er,{event:a,deletedEvent:u}),Pe(b)&&c.a.createElement(mt,{error:b.error}))},Va=function(e){var t=e.event;return c.a.createElement("p",{className:"subtitle is-5"},Wt(t.callTime),c.a.createElement("br",null),t.location&&c.a.createElement("a",{href:"https://www.google.com/maps/search/".concat(t.location),target:"_blank",rel:"noopener noreferrer"},t.location))},Ka=function(e){var t=e.event,n=e.rsvpState,a=e.confirm,r=e.rsvp,l=t.attendance,u=t.rsvpIssue;return l?_e(t)?c.a.createElement(Qa,{points:t.points,attendance:l}):u?l.confirmed?c.a.createElement(c.a.Fragment,null,"We know you're coming"):["Sectional","Tutti Gig","Rehearsal"].includes(t.type)?c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"You're coming, right?"),c.a.createElement(Yt,{color:"is-primary",loading:Fe(n),onClick:a},"yep, I'll be there")):c.a.createElement("p",{className:"has-text-grey-light is-italic"},u):c.a.createElement(Ja,{rsvp:r,rsvpState:n,attendance:l}):c.a.createElement(c.a.Fragment,null)},Ja=function(e){var t=e.attendance,n=e.rsvpState,a=e.rsvp,r=function(e,t){return c.a.createElement(Yt,{color:"is-primary",loading:Fe(n),outlined:!e,onClick:function(){return a(e)}},t)};return t.confirmed?t.shouldAttend?c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"You're ",c.a.createElement("b",null,"confirmed")," to be ",c.a.createElement("b",null,"attending")),r(!1,"oops jk, gotta dip")):c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"The officers know you won't be there"),r(!0,"sike I can come. put me in coach!")):t.shouldAttend?c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"You're coming, right?"),r(!1,"sorry fam, not this time"),c.a.createElement("span",null," "),r(!0,"yep, I'll be there")):c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"You're not coming, right?"),r(!0,"akshually I can come. you're welcome"))},Qa=function(e){var t=e.points,n=e.attendance;return n.didAttend?n.shouldAttend?c.a.createElement(c.a.Fragment,null,"You were there! What a great time. Real #tbt material."):c.a.createElement(c.a.Fragment,null,"Wow, thanks for coming. What a guy!"):n.shouldAttend?c.a.createElement(c.a.Fragment,null,"You ",c.a.createElement("b",null,"weren't there"),", and that's ",c.a.createElement("b",null,"not ok"),". You lost"," ","".concat(t)," points."," ",c.a.createElement("a",{href:"mailto:gleeclub_officers@lists.gatech.edu?subject=Attendance Issue"},"Email the officers")," ","if you think that's not right."):c.a.createElement(c.a.Fragment,null,"You ",c.a.createElement("b",null,"weren't there"),", but that's ",c.a.createElement("b",null,"ok"),".")},$a=function(e){var t=e.uniform;return c.a.createElement("p",null,c.a.createElement("span",null,t.name," "),c.a.createElement("span",{style:{cursor:"pointer"},className:"icon tooltip has-tooltip-bottom is-tooltip-multiline has-text-grey-light is-small","data-tooltip":t.description||""},c.a.createElement("i",{className:"far fa-question-circle"})),c.a.createElement("br",null))},Za=function(e){var t=e.event,n=e.requestAbsence;return _e(t)&&!t.rsvpIssue?c.a.createElement(c.a.Fragment,null):t.absenceRequest?c.a.createElement(Yt,{color:"is-primary",outlined:!0},"Request ".concat(t.absenceRequest.state)):c.a.createElement(Yt,{color:"is-primary",outlined:!0,onClick:n},"Request Absence")},er=function(e){var t=e.event,n=e.deletedEvent,a=be().replaceRoute,l=Object(r.useState)(null),u=Object(d.a)(l,2),o=u[0],i=u[1],f=Object(r.useCallback)(Object(m.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(Se),e.next=3,It("events/".concat(t.id));case 3:(a=e.sent).successful?n():i(Ne(a.error));case 5:case"end":return e.stop()}}),e)}))),[t,n,i]);return c.a.createElement(pt,{permission:"view-event-private-details"},c.a.createElement(ot,null),t.gig&&c.a.createElement(c.a.Fragment,null,c.a.createElement(tr,{gig:t.gig}),null!==t.gig.price?"".concat(t.gig.price):""),c.a.createElement("br",null),c.a.createElement(Yt,{onClick:function(){return a(g(t.id,D))},style:{marginBottom:"5px"}},"Edit this bitch"),c.a.createElement("br",null),c.a.createElement(Yt,{color:"is-danger",outlined:!0,onClick:function(){return i(Ce)},style:{marginBottom:"5px"}},"Yeet this bitch into the void"),o&&c.a.createElement(Ea,{title:"Delete ".concat(t.name,"?"),cancel:function(){return i(null)},confirm:f,state:o},c.a.createElement("p",null,"Are you sure you want to delete this event? Once you delete it, it's gone like Donkey Kong.")))},tr=function(e){var t=e.gig;return t.contactName||t.contactEmail||t.contactPhone?c.a.createElement("p",null,c.a.createElement("u",null,"Contact"),c.a.createElement("br",null),t.contactName||c.a.createElement("i",null,"idk who"),c.a.createElement("br",null),t.contactPhone?c.a.createElement(st,{phone:t.contactPhone}):c.a.createElement("i",null,"no number, bro"),c.a.createElement("br",null),t.contactEmail?c.a.createElement(it,{email:t.contactEmail}):c.a.createElement("i",null,"no email, dude")):c.a.createElement("p",null,c.a.createElement("i",null,"No contact info"))},nr=function(e){var t=e.eventId,n=Object(r.useState)(ke),a=Object(d.a)(n,2),l=a[0],u=a[1];return Object(r.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ct("events/".concat(t,"/setlist"));case 2:n=e.sent,u(Te(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[u,t]),c.a.createElement(ft,{data:l,render:function(e){return 0===e.length?c.a.createElement("div",null,"No set list for this event."):c.a.createElement(gt,{striped:!0},c.a.createElement("tbody",null,e.map((function(e,t){return c.a.createElement(ar,{song:e,index:t+1})}))))}})},ar=function(e){var t=e.song,n=e.index;return c.a.createElement("tr",{key:n},c.a.createElement("td",null,n),c.a.createElement("td",null,c.a.createElement("a",{href:me(j(t.id,null))},t.title)),c.a.createElement("td",null,t.key?Ke(t.key):"No key"),c.a.createElement("td",null,t.startingPitch?Ke(t.startingPitch):"No starting pitch"))},rr={performanceTime:"",uniform:null,contactName:"",contactEmail:"",contactPhone:"",price:null,public:!1,summary:"",description:""},cr=function(e,t){var n,a=!!(t.performanceTime||t.uniform||t.contactName||t.contactEmail||t.contactPhone||t.price||t.summary||t.description);return{name:e.name,semester:e.semester,type:e.type,callTime:$t(e.callDate,e.callTime),releaseTime:$t(e.releaseDate,e.releaseTime),points:e.points||5,comments:e.comments,location:e.location,gigCount:e.gigCount,defaultAttend:e.defaultAttend,gig:a?{performanceTime:$t(e.callDate,t.performanceTime),uniform:(null===(n=t.uniform)||void 0===n?void 0:n.id)||null,contactName:t.contactName,contactEmail:t.contactEmail,contactPhone:t.contactPhone,price:t.price,public:t.public,summary:t.summary,description:t.description}:null}},lr=function(e){var t=e.event,n=e.updateEvent,a=Object(r.useContext)(Ee),l=a.info,u=a.currentSemester,o=be().replaceRoute,i=Object(r.useState)(function(e){return{name:e.name,semester:e.semester,type:e.type,callTime:Vt(e.callTime),callDate:Xt(e.callTime),releaseTime:e.releaseTime?Vt(e.releaseTime):"",releaseDate:e.releaseTime?Xt(e.releaseTime):"",points:e.points,comments:e.comments||"",location:e.location||"",gigCount:e.gigCount,defaultAttend:e.defaultAttend}}(t)),f=Object(d.a)(i,2),p=f[0],E=f[1],b=Object(r.useState)(function(e,t){return e.gig?{performanceTime:Vt(e.gig.performanceTime),uniform:t.find((function(t){var n;return t.id===(null===(n=e.gig)||void 0===n?void 0:n.uniform)}))||null,contactName:e.gig.contactName||"",contactEmail:e.gig.contactEmail||"",contactPhone:e.gig.contactPhone||"",price:e.gig.price,public:e.gig.public,summary:e.gig.summary||"",description:e.gig.description||""}:rr}(t,(null===l||void 0===l?void 0:l.uniforms)||[])),v=Object(d.a)(b,2),h=v[0],O=v[1],j=Object(r.useState)(ke),y=Object(d.a)(j,2),k=y[0],w=y[1],x=Object(r.useState)(Ce),S=Object(d.a)(x,2),N=S[0],I=S[1],T=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(a){var r,c,l,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),I(Se),r=cr(p,h),c="events/".concat(t.id),e.next=6,St(c,r);case 6:if(!(l=e.sent).successful){e.next=14;break}return e.next=10,Ct(c);case 10:(u=e.sent).successful?(n(u.data),o(g(t.id,C))):I(Ne(u.error)),e.next=15;break;case 14:I(Ne(l.error));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[I,p,h,t,n,o]);Object(r.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ct("semesters");case 2:t=e.sent,w(Te(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[w]);var A={info:l,state:N,semesters:k,currentSemester:u,gig:h,event:p,updateGig:O,updateEvent:E};return c.a.createElement("div",null,c.a.createElement($e,{centered:!0},"Edit Event"),c.a.createElement("form",{onSubmit:T},c.a.createElement(ur,A),c.a.createElement(ir,A),c.a.createElement(sr,A)))},ur=function(e){var t=e.event,n=e.gig,a=e.updateEvent,r=e.updateGig;return c.a.createElement(nt,null,c.a.createElement(ln,{type:fn,value:t.name,onInput:function(e){return a(Object(o.a)({},t,{name:e}))},title:"Event Name",placeholder:"Flashmobbing the HOMO SEX IS SIN people",helpText:"Make it descriptive, make it short.",required:!0}),c.a.createElement(ln,{type:fn,value:t.location,onInput:function(e){return a(Object(o.a)({},t,{location:e}))},title:"Event Location",placeholder:"Your mom's house \ud83d\ude02",helpText:"ha gottem"}),c.a.createElement(ln,{type:pn,value:t.callDate,onInput:function(e){return a(Object(o.a)({},t,{callDate:e}))},title:"Date of Event",required:!0}),c.a.createElement(ln,{type:En,value:t.callTime,onInput:function(e){return a(Object(o.a)({},t,{callTime:e}))},title:"Call Time",helpText:"4:20 lamo",required:!0}),c.a.createElement(ln,{type:En,value:n.performanceTime,onInput:function(e){return r(Object(o.a)({},n,{performanceTime:e}))},title:"Event Time",helpText:"4:21 lamo"}),c.a.createElement(ln,{type:En,value:t.releaseTime,onInput:function(e){return a(Object(o.a)({},t,{releaseTime:e}))},title:"Release Time",helpText:"4:22 lamo"}),c.a.createElement(ln,{type:pn,value:t.releaseDate,onInput:function(e){return a(Object(o.a)({},t,{releaseDate:e}))},title:"Release Date"}),c.a.createElement(ln,{type:gn,value:t.points,onInput:function(e){return a(Object(o.a)({},t,{points:e}))},title:"How many points is this worth?",placeholder:"69"}))},or=function(e){var t;return Re(e.semesters)?e.semesters.data.map((function(e){return e.name})):[(null===(t=e.currentSemester)||void 0===t?void 0:t.name)||""]},ir=function(e){var t,n;return c.a.createElement(nt,null,c.a.createElement(sn,{render:function(e){return e},values:(null===(t=e.info)||void 0===t?void 0:t.eventTypes.map((function(e){return e.name})))||[],selected:e.event.type,onInput:function(t){return e.updateEvent(Object(o.a)({},e.event,{type:t}))},title:"Event Type"}),c.a.createElement(on,{values:or(e),selected:e.event.semester,type:fn,onInput:function(t){return e.updateEvent(Object(o.a)({},e.event,{semester:t}))},title:"Semester",loading:qe(e.semesters)}),c.a.createElement(on,{values:[null].concat(Object(f.a)((null===(n=e.info)||void 0===n?void 0:n.uniforms)||[])),selected:e.gig.uniform,type:jn(e.info),onInput:function(t){return e.updateGig(Object(o.a)({},e.gig,{uniform:t}))}}),c.a.createElement(un,{value:e.event.comments,onInput:function(t){return e.updateEvent(Object(o.a)({},e.event,{comments:t}))},title:"Event Summary",placeholder:"We're gonna get in there, we're gonna use our mouths, and we're gonna get out."}))},sr=function(e){var t=e.event,n=e.updateEvent,a=e.gig,r=e.updateGig,l=e.state;return c.a.createElement(nt,null,c.a.createElement(mn,{checked:a.public,content:"This event is public, so I want it to show up on the external site",onChange:function(e){return r(Object(o.a)({},a,{public:e}))}}),a.public&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ln,{type:fn,value:a.summary,onInput:function(e){return r(Object(o.a)({},a,{summary:e}))},title:"Public Summary",placeholder:"Friends? Countrymen? Bueller?",helpText:"Careful, real people will see this"}),c.a.createElement(un,{value:a.description,onInput:function(e){return r(Object(o.a)({},a,{description:e}))},title:"Public Description",helpText:"Careful, real people will see this",placeholder:"We the people, in order to kick a more perfect ass, I don't know where this is going"})),c.a.createElement(mn,{checked:!t.defaultAttend,content:"No one has to come to this event (forum, fundatory, etc)",onChange:function(e){return n(Object(o.a)({},t,{defaultAttend:!e}))}}),c.a.createElement(mn,{checked:t.gigCount,content:"This event counts as a volunteer gig",onChange:function(e){return n(Object(o.a)({},t,{gigCount:e}))}}),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(zt,{color:"is-primary",loading:Fe(l)},"Update"),Pe(l)&&c.a.createElement(mt,{error:l.error}))},mr=function(e){var t=e.eventId,n=Object(r.useState)(ke),a=Object(d.a)(n,2),l=a[0],u=a[1];return Object(r.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="events/".concat(t,"/see_whos_attending"),e.next=3,Ct(n);case 3:a=e.sent,u(Te(a));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,u]),c.a.createElement(ft,{data:l,render:function(e){return c.a.createElement(dr,{attendees:e})}})},dr=function(e){var t=e.attendees,n=Er(t),a=n.attending,r=n.notAttending;return c.a.createElement(nt,null,c.a.createElement($e,{centered:!0},"Attending"),Oe.map((function(e){return a.get(e)&&c.a.createElement(fr,Object.assign({section:e},a.get(e)))})),c.a.createElement($e,{centered:!0},"Not Attending"),Oe.map((function(e){return r.get(e)&&c.a.createElement(fr,Object.assign({section:e},r.get(e)))})))},fr=function(e){var t=e.section,n=e.confirmed,a=e.notConfirmed;return c.a.createElement(gt,{fullwidth:!0,scrollable:!0},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,t),c.a.createElement("th",null,"Confirmed"),c.a.createElement("th",null,"Not Confirmed"))),c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",{style:{width:"20%"}}),c.a.createElement(pr,{attendees:n}),c.a.createElement(pr,{attendees:a}))))},pr=function(e){var t=e.attendees;return c.a.createElement("td",{style:{width:"40%"}},t.map((function(e,n){return c.a.createElement(c.a.Fragment,null,Ge(e.member),n!==t.length-1&&c.a.createElement("br",null))})))},Er=function(e){var t=e.filter((function(e){return e.attendance.shouldAttend})),n=e.filter((function(e){return!e.attendance.shouldAttend})),a=function(e){return new Map(Oe.map((function(t){var n=e.filter((function(e){return e.member.section===t}));return[t,n.length?{confirmed:n.filter((function(e){return e.attendance.confirmed})),notConfirmed:n.filter((function(e){return!e.attendance.confirmed}))}:null]})))};return{attending:a(t),notAttending:a(n)}},br=function(e){var t=e.eventId,n=Object(r.useState)(Ce),a=Object(d.a)(n,2),l=a[0],u=a[1],o=Object(r.useState)(ke),i=Object(d.a)(o,2),f=i[0],p=i[1],E=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(n){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(Se),p(Ie(f,(function(e){return e.map((function(e){return e.member.email===n.member.email?n:e}))}))),a="events/".concat(t,"/attendance/").concat(n.member.email),e.next=5,St(a,n.attendance);case 5:r=e.sent,u(Ae(r));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[f,t,u]);return Object(r.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="events/".concat(t,"/see_whos_attending"),e.next=3,Ct(n);case 3:a=e.sent,p(Te(a));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),c.a.createElement("div",null,c.a.createElement(ft,{data:f,render:function(e){return c.a.createElement(gt,{fullwidth:!0,scrollable:!0},hr(e).map((function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("td",null,e.section),c.a.createElement("td",null,"Did Attend"),c.a.createElement("td",null,"Should Attend"),c.a.createElement("td",null,"Confirmed"),c.a.createElement("td",null,"Minutes Late"))),c.a.createElement("tbody",null,e.attendees.map((function(e){return c.a.createElement(vr,{attendee:e,updateAttendee:E})}))))})))}}),c.a.createElement(bt,{state:l}))},vr=function(e){var t=e.attendee,n=e.updateAttendee;return c.a.createElement("tr",{className:"no-bottom-border"},c.a.createElement("td",null,Ge(t.member)),c.a.createElement("td",null,c.a.createElement(mn,{content:"",checked:t.attendance.didAttend,onChange:function(e){return n(Object(o.a)({},t,{attendance:Object(o.a)({},t.attendance,{didAttend:e})}))}})),c.a.createElement("td",null,c.a.createElement(mn,{content:"",checked:t.attendance.shouldAttend,onChange:function(e){return n(Object(o.a)({},t,{attendance:Object(o.a)({},t.attendance,{shouldAttend:e})}))}})),c.a.createElement("td",null,c.a.createElement(mn,{content:"",checked:t.attendance.confirmed,onChange:function(e){return n(Object(o.a)({},t,{attendance:Object(o.a)({},t.attendance,{confirmed:e})}))}})),c.a.createElement("td",null,c.a.createElement(ln,{type:gn,value:t.attendance.minutesLate,onInput:function(e){return n(Object(o.a)({},t,{attendance:Object(o.a)({},t.attendance,{minutesLate:e||0})}))}})))},hr=function(e){return Oe.map((function(t){return{section:t||"Homeless",attendees:e.filter((function(e){return e.member.section===t}))}})).filter((function(e){return e.attendees.length}))},gr=function(e){var t=Object(r.useContext)(Ee).user,n=Object(r.useState)(""),a=Object(d.a)(n,2),l=a[0],u=a[1],o=Object(r.useState)(Ce),i=Object(d.a)(o,2),f=i[0],p=i[1],E=Object(r.useCallback)(function(){var n=Object(m.a)(s.a.mark((function n(a){var r,c,u,o;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),p(Se),r={reason:l},c="absence_requests/".concat(e.event.id),n.next=6,St(c,r);case 6:(u=n.sent).successful?(o={member:(null===t||void 0===t?void 0:t.email)||"",event:e.event.id,time:(new Date).getTime(),reason:l,state:"Pending"},xt(o)):p(Ne(u.error));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[p,l,e,t]);return c.a.createElement("div",null,c.a.createElement(Pt,{content:"back to event",click:e.cancel}),c.a.createElement($e,{centered:!0},"Absence Request"),c.a.createElement(et,{centered:!0},"for ",e.event.name),c.a.createElement("br",null),c.a.createElement("form",{onSubmit:E},c.a.createElement(un,{value:l,onInput:u,title:"But y tho",placeholder:"Excuses, excuses",required:!0}),c.a.createElement(Bt,{alignment:"is-right"},c.a.createElement(zt,{color:"is-primary",loading:Fe(f)},"Beg for Mercy"))),Pe(f)&&c.a.createElement(mt,{error:f.error}))},Or=function(e){var t=e.eventId,n=e.tab,a=be().replaceRoute,l=Object(r.useState)(ke),u=Object(d.a)(l,2),o=u[0],i=u[1],f=Object(r.useState)(ye),p=Object(d.a)(f,2),E=p[0],b=p[1],v=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(ke),e.next=3,Ct("events/".concat(t));case 3:n=e.sent,b(Te(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[b]),h=Object(r.useCallback)((function(e){if(Re(o)){var t=o.data.find((function(t){return t.id===e}));if(t)return void b(we(t))}v(e)}),[b,o,v]),O=Object(r.useCallback)((function(){b(ye),a(g(null,null))}),[b,a]),j=Object(r.useCallback)((function(e){Re(E)&&a(g(E.data.id,e))}),[E,a]),y=Object(r.useCallback)((function(e){b(we(e)),i(Ie(o,(function(t){return t.map((function(t){return t.id===e.id?e:t}))})))}),[o,i,b]),k=Object(r.useCallback)((function(e){b(ye),i(Ie(o,(function(t){return t.filter((function(t){return t.id!==e.id}))})))}),[b,i,o]);Object(r.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ct("events?attendance=true");case 2:t=e.sent,i(Te(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(r.useEffect)((function(){null!==t?h(t):b(ye)}),[t,h,b]);var w=Re(E)?E.data.id:null,x=Ie(o,(function(e){return e.filter((function(e){return!_e(e)}))})),C=Ie(o,(function(e){return e.filter(_e)}));return c.a.createElement(c.a.Fragment,null,c.a.createElement(rt,null,c.a.createElement(jr,{events:x,selectedId:w}),c.a.createElement(ot,{content:"Past"}),c.a.createElement(jr,{events:C,selectedId:w})),c.a.createElement(Et,{data:E,close:O,render:function(e){return c.a.createElement(xr,{tab:n,event:e,changeTab:j,unselectEvent:O,updateEvent:y,deletedEvent:k})}}))},jr=function(e){var t=e.events,n=e.selectedId,a=be().replaceRoute,r=function(e,r){return c.a.createElement("div",{className:"column is-one-quarter is-centered"},c.a.createElement(Ot,{title:e,listItems:Ie(t,(function(e){return[e.filter((function(e){return r.includes(e.type)}))]})),isSelected:function(e){return e.id===n},onSelect:function(e){return a(g(e.id,null))},render:function(e){return c.a.createElement(yr,{event:e})},messageIfEmpty:"No events here, misster."}))};return c.a.createElement(tt,null,r("Volunteer",["Volunteer Gig"]),r("Rehearsal",["Rehearsal","Sectional"]),r("Tutti",["Tutti Gig"]),r("Ombuds",["Ombuds","Other"]))},yr=function(e){var t,n=e.event;return c.a.createElement(c.a.Fragment,null,c.a.createElement("td",{style:{textAlign:"center"}},c.a.createElement(dt,{event:n})),c.a.createElement("td",null,(t=n.callTime,Ut()(t).format("M/D"))),c.a.createElement("td",null,n.name))},kr=function(e){return c.a.createElement("div",{className:"tabs"},c.a.createElement("ul",null,c.a.createElement(wr,Object.assign({tab:C},e)),c.a.createElement(wr,Object.assign({tab:S},e)),c.a.createElement(wr,Object.assign({tab:I},e)),c.a.createElement(wr,Object.assign({tab:T},e)),c.a.createElement(pt,{permission:"edit-attendance"},c.a.createElement(wr,Object.assign({tab:N},e)))))},wr=function(e){var t=e.tab,n=e.currentTab,a=e.event;return c.a.createElement("li",{className:t.route===(null===n||void 0===n?void 0:n.route)?"is-active":void 0},c.a.createElement("a",{href:me(g(a.id,t))},t.name))},xr=function(e){var t,n=c.a.createElement(c.a.Fragment,null,c.a.createElement(Pt,{content:"all events",click:e.unselectEvent}),c.a.createElement($e,{centered:!0},e.event.name),c.a.createElement(kr,{event:e.event,currentTab:e.tab}));switch(null===(t=e.tab)||void 0===t?void 0:t.route){case"attendance":return c.a.createElement(c.a.Fragment,null,n,c.a.createElement(br,{eventId:e.event.id}));case"attendees":return c.a.createElement(c.a.Fragment,null,n,c.a.createElement(mr,{eventId:e.event.id}));case"setlist":return c.a.createElement(c.a.Fragment,null,n,c.a.createElement(nr,{eventId:e.event.id}));case"carpools":return c.a.createElement(c.a.Fragment,null,n,c.a.createElement(Ca,{event:e.event}));case"request-absence":return c.a.createElement(gr,{event:e.event,cancel:function(){return e.changeTab(C)},success:function(t){return e.updateEvent(Object(o.a)({},e.event,{absenceRequest:t}))}});case"edit":return c.a.createElement(c.a.Fragment,null,c.a.createElement(Pt,{content:"cancel editing",click:function(){return e.changeTab(C)}}),c.a.createElement(lr,{event:e.event,updateEvent:e.updateEvent}));default:return c.a.createElement(c.a.Fragment,null,n,c.a.createElement(Xa,{event:e.event,updateEvent:e.updateEvent,deletedEvent:function(){return e.deletedEvent(e.event)}}))}},Cr=function(){var e=be().goToRoute,t=Object(r.useState)(""),n=Object(d.a)(t,2),a=n[0],l=n[1],u=Object(r.useState)(""),o=Object(d.a)(u,2),i=o[0],f=o[1],p=Object(r.useState)(Ce),b=Object(d.a)(p,2),v=b[0],h=b[1],g=Object(r.useCallback)(function(){var t=Object(m.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),a===i){t.next=4;break}return alert("Your emails don't match."),t.abrupt("return");case 4:return h(Se),t.next=7,St("forgot_password/".concat(a),{});case 7:(r=t.sent).successful?(alert("Check your email for a password reset link, it should be there in a few minutes."),e(E)):h(Ne(r.error));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,a,i,h]);return c.a.createElement("div",{className:"container fullheight"},c.a.createElement("div",{className:"columns is-centered is-vcentered"},c.a.createElement(nt,{narrow:!0},c.a.createElement("form",{onSubmit:g,style:{padding:"10px"}},c.a.createElement(at,null,c.a.createElement(Ze,null,"Forgot your password?"),c.a.createElement("p",null,'That sucks. But don\'t "oh geez, oh frick", just slap some emails down and we will send you an email with a reset link.'),c.a.createElement("br",null),c.a.createElement(ln,{type:bn,value:a,onInput:l,title:"E-mail",placeholder:"gburdell3@gatech.edu",required:!0}),c.a.createElement(ln,{type:bn,value:i,onInput:f,title:"Confirm E-mail",placeholder:"bgurdell3@gatech.edu",required:!0}),c.a.createElement(Bt,{alignment:"is-right"},c.a.createElement(_t,{route:E},"uh, nvm"),c.a.createElement(zt,{color:"is-primary",loading:Fe(v)},"halp")),Pe(v)&&c.a.createElement(mt,{error:v.error}))))))},Sr=function(){var e=Object(r.useContext)(Ee).refreshAll,t=be().goToRoute,n=Object(r.useState)(""),a=Object(d.a)(n,2),l=a[0],u=a[1],o=Object(r.useState)(""),i=Object(d.a)(o,2),f=i[0],E=i[1],b=Object(r.useState)(Ce),v=Object(d.a)(b,2),g=v[0],O=v[1],j=Object(r.useCallback)(function(){var n=Object(m.a)(s.a.mark((function n(a){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return Le(a),n.next=3,e();case 3:t(p);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[e,t]),y=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),O(Se),n={email:l,passHash:Ra.Md5.hashStr(f)},e.next=5,Nt("login",n);case 5:(a=e.sent).successful?j(a.data.token):"member already logged in"===a.error.message?j(a.error.token):(O(Ne(a.error)),alert("Your username and/or password were incorrect."));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[l,f,O,j]);return c.a.createElement("div",{className:"container fullheight"},c.a.createElement("div",{className:"columns is-centered is-vcentered",style:{display:"flex"}},c.a.createElement(nt,{narrow:!0},c.a.createElement(at,null,c.a.createElement("form",{onSubmit:y},c.a.createElement("img",{style:{width:"100%"},alt:"",src:"./glubhub.svg"}),c.a.createElement(ln,{type:bn,value:l,onInput:u,title:"Who are you?",placeholder:"gburdell3@gatech.edu"}),c.a.createElement(ln,{type:vn,value:f,onInput:E,title:"Oh yeah? Prove it.",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),c.a.createElement("div",null,c.a.createElement(zt,{color:"is-primary",fullwidth:!0,loading:Fe(g)},"I posit that I am worthy"),c.a.createElement("br",null),c.a.createElement("div",{className:"field is-grouped is-grouped-centered is-expanded"},c.a.createElement(an,null,c.a.createElement(_t,{route:k},"I have forgotten who I am")),c.a.createElement(an,null,c.a.createElement(_t,{route:h,color:"is-primary",outlined:!0},"I am not anyone yet")))))))))},Nr=n(41),Ir=function(e){var t=e.minutes,n=e.update,a=e.saved,l=e.deleted,u=Object(r.useState)(Ce),o=Object(d.a)(u,2),i=o[0],f=o[1],p=Object(r.useState)(null),E=Object(d.a)(p,2),b=E[0],v=E[1],h=Object(r.useState)("private"),g=Object(d.a)(h,2),O=g[0],j=g[1],y=Object(r.useRef)((function(e){})),k=Object(r.useCallback)((function(e){j(e),y.current(("public"===e?t.public:t.private)||"")}),[j,y,t]),w=Object(r.useCallback)(Object(m.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(Se),e.next=3,St("meeting_minutes/".concat(t.id),t);case 3:n=e.sent,f(Ae(n)),n.successful&&a(t);case 6:case"end":return e.stop()}}),e)}))),[f,a,t]),x=Object(r.useCallback)(Object(m.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(Se),e.next=3,It("meeting_minutes/".concat(t.id));case 3:n=e.sent,v(Ae(n)),n.successful&&l(t);case 6:case"end":return e.stop()}}),e)}))),[v,t,l]);return c.a.createElement(pt,{permission:"edit-minutes"},c.a.createElement("p",null,c.a.createElement(Dr,{minutes:t,visibility:O,updateVisibility:k,saveState:i,save:w,tryToDelete:function(){return v(Ce)},update:n})),c.a.createElement("br",null),c.a.createElement("p",null,c.a.createElement(Ar,{minutes:t,visibility:O,update:n,setContent:y})),b&&c.a.createElement(Tr,{state:b,cancel:function(){return v(null)},confirm:x}))},Tr=function(e){var t=e.state,n=e.cancel,a=e.confirm;return c.a.createElement(Ea,{title:"Delete this meeting?",cancel:n,confirm:a,state:t},"Are you sure you want to delete these meeting minutes? You can't undo that.")},Ar=function(e){var t=e.minutes,n=e.visibility,a=e.update,r=e.setContent;return c.a.createElement(Nr.a,{apiKey:"4tzzx51fsqy1vtwhpvkhb3t9t4jwyotr28qjbogls2yclw26",initialValue:("private"===n?t.private:t.public)||"",init:{height:500,setupEditor:function(e){r.current=function(t){e.setContent(t)}}},onEditorChange:function(e){return a("private"===n?Object(o.a)({},t,{private:e}):Object(o.a)({},t,{public:e}))}})},Dr=function(e){var t=e.minutes,n=e.visibility,a=e.updateVisibility,r=e.update,l=e.save,u=e.tryToDelete,i=e.saveState;return c.a.createElement("div",{className:"field is-grouped is-grouped-centered is-fullwidth"},c.a.createElement(an,null,c.a.createElement(Bt,{connected:!0},c.a.createElement(Yt,{onClick:function(){return a("public")},color:"public"===n?"is-primary":void 0},"Public"),c.a.createElement(Yt,{onClick:function(){return a("private")},color:"private"===n?"is-primary":void 0},"Private"))),c.a.createElement(an,null,c.a.createElement(ln,{type:fn,value:t.name,onInput:function(e){return r(Object(o.a)({},t,{name:e}))},prefix:"Title",placeholder:"Secret Evil Meeting of Doom",required:!0,expanded:!0})),c.a.createElement(an,null,c.a.createElement(Bt,{alignment:"is-right"},c.a.createElement(Yt,{onClick:l,color:"is-primary",loading:Fe(i)},"Save"),c.a.createElement(Yt,{onClick:u,color:"is-danger"},"Delete"))),Pe(i)&&c.a.createElement(mt,{error:i.error}))},Fr=function(e){var t=e.minutesId,n=e.tab,a=be().replaceRoute,l=Object(r.useState)(ke),u=Object(d.a)(l,2),o=u[0],i=u[1],p=Object(r.useState)(ye),E=Object(d.a)(p,2),b=E[0],v=E[1],h=Object(r.useState)(!1),g=Object(d.a)(h,2),O=g[0],j=g[1],k=Object(r.useState)(Ce),w=Object(d.a)(k,2),x=w[0],C=w[1],S=Object(r.useCallback)(Object(m.a)(s.a.mark((function e(){var t,n,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Re(o)){e.next=2;break}return e.abrupt("return");case 2:return C(Se),n={name:t="New Meeting"},e.next=7,Nt("meeting_minutes",n);case 7:a=e.sent,C(Ae(a)),a.successful&&(r={id:a.data.id,name:t,public:null,private:null,date:(new Date).getTime()},i(we([r].concat(Object(f.a)(o.data)))),v(we(r)));case 10:case"end":return e.stop()}}),e)}))),[o,C,i,v]),N=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(ke),e.next=3,Ct("meeting_minutes/".concat(t));case 3:n=e.sent,v(Te(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[v]),I=Object(r.useCallback)((function(e){i(Ie(o,(function(t){return t.map((function(t){return t.id===e.id?e:t}))}))),v(we(e))}),[i,o,v]),T=Object(r.useCallback)((function(e){a(y(e.id,F))}),[a]),A=Object(r.useCallback)((function(e){i(Ie(o,(function(t){return t.filter((function(t){return t.id!==e.id}))}))),v(ye),a(y(null,null))}),[i,o,v,a]);return Object(r.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ct("meeting_minutes");case 2:t=e.sent,i(Te(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i]),Object(r.useEffect)((function(){t?N(t):v(ye)}),[t,N,v]),c.a.createElement(rt,null,c.a.createElement(ct,null,c.a.createElement(tt,null,c.a.createElement(qr,{minutes:o,showAllMinutes:O,createState:x,selectedId:Re(b)?b.data.id:null,createNewMinutes:S,toggleShowAllMinutes:function(){return j(!O)}}),c.a.createElement(nt,null,c.a.createElement(at,null,c.a.createElement(ft,{data:b,notAsked:c.a.createElement("p",null,"Select Minutes"),render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(Rr,{minutes:e,tab:n||F}),c.a.createElement(Mr,{minutes:e,tab:n||F,updateMinutes:I,savedMinutes:T,deletedMinutes:A}))}}))))))},qr=function(e){var t=e.minutes,n=e.showAllMinutes,a=e.createNewMinutes,r=e.createState,l=e.selectedId,u=e.toggleShowAllMinutes,o=be().replaceRoute;return c.a.createElement(Ot,{listItems:Ie(t,n?function(e){return[e]}:function(e){return[e.slice(0,10)]}),isSelected:function(e){return e.id===l},onSelect:function(e){return o(y(e.id,null))},messageIfEmpty:"No minutes",render:function(e){return c.a.createElement("td",null,e.name)},contentAtTop:c.a.createElement(pt,{permission:"edit-minutes"},c.a.createElement("div",{style:{paddingBottom:"5px"}},c.a.createElement(Bt,{alignment:"is-centered"},c.a.createElement(Yt,{color:"is-primary",onClick:a,loading:Fe(r)},"+ Add New Minutes"),Pe(r)&&c.a.createElement(mt,{error:r.error})))),contentAtBottom:c.a.createElement(c.a.Fragment,null,Re(t)&&t.data.length>10&&c.a.createElement("div",{style:{paddingBottom:"5px"}},c.a.createElement(Bt,{alignment:"is-centered"},c.a.createElement(Yt,{onClick:u},n?"Hide":"Show"," old minutes..."))))})},Rr=function(e){var t=e.minutes,n=e.tab;return c.a.createElement(pt,{permission:"view-complete-minutes"},c.a.createElement("div",{className:"tabs"},c.a.createElement("ul",null,c.a.createElement(Pr,{minutes:t,currentTab:n,tab:F}),c.a.createElement(Pr,{minutes:t,currentTab:n,tab:q}),c.a.createElement(pt,{permission:"edit-minutes"},c.a.createElement(Pr,{minutes:t,currentTab:n,tab:R})))))},Pr=function(e){var t=e.minutes,n=e.tab,a=e.currentTab;return c.a.createElement("li",{className:n.route===a.route?"is-active":void 0},c.a.createElement("a",{href:me(y(t.id,n))},n.name))},Mr=function(e){var t=e.minutes,n=e.tab,a=e.updateMinutes,r=e.savedMinutes,l=e.deletedMinutes;switch(n.route){case"public":return c.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.public||""}});case"private":return c.a.createElement(pt,{permission:"view-complete-minutes"},c.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.private||""}}));default:return c.a.createElement(Ir,{minutes:t,update:a,saved:r,deleted:l})}},Br=function(e){var t=e.member,n=e.update,a=Object(r.useState)(null),l=Object(d.a)(a,2),u=l[0],o=l[1],i=Object(r.useState)(Ce),f=Object(d.a)(i,2),p=f[0],E=f[1],b=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(a){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),u){e.next=3;break}return e.abrupt("return");case 3:return E(Se),e.next=6,At(St("members/".concat(t.email),u),(function(){return Ct("members/".concat(u.email))}));case 6:r=e.sent,E(Ae(r)),r.successful&&(n(r.data),o(null));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[u,t.email,E,n]);return u?c.a.createElement(Yr,{form:u,state:p,cancel:function(){return o(null)},submit:b,update:o}):c.a.createElement(Gr,{member:t,startEditing:function(){return o(_r(t))}})},Gr=function(e){var t=e.member,n=e.startEditing,a=[["First Name",t.firstName],["Preferred Name",t.preferredName||""],["Last Name",t.lastName],["Email",t.email],["Phone Number",t.phoneNumber],["Location",t.location],["On Campus","".concat(!!t.onCampus)],["Enrollment",t.enrollment||"Inactive"],["Section",t.section||"Homeless"],["About",t.about||""],["Picture",t.picture||""],["Arrived At Tech",t.arrivedAtTech?"".concat(t.arrivedAtTech):""],["Gateway Drug",t.gatewayDrug||""],["Conflicts",t.conflicts||""],["Dietary Restrictions",t.dietaryRestrictions||""]];return c.a.createElement(nt,null,c.a.createElement(gt,null,c.a.createElement("tbody",null,a.map((function(e){var t=Object(d.a)(e,2),n=t[0],a=t[1];return c.a.createElement("tr",{className:"no-bottom-border"},c.a.createElement("td",{style:{textAlign:"right"}},c.a.createElement("b",null,n)),c.a.createElement("td",null,a))})))),c.a.createElement(Bt,{alignment:"is-right"},c.a.createElement(Yt,{onClick:n},"Edit")))},Yr=function(e){var t=e.form,n=e.state,a=e.cancel,l=e.submit,u=e.update,i=Object(r.useContext)(Ee).info;return c.a.createElement("form",{onSubmit:l},c.a.createElement(ln,{horizontal:!0,type:fn,value:t.firstName,onInput:function(e){return u(Object(o.a)({},t,{firstName:e}))},title:"First Name",required:!0}),c.a.createElement(ln,{horizontal:!0,type:fn,value:t.preferredName,onInput:function(e){return u(Object(o.a)({},t,{preferredName:e}))},title:"Preferred Name"}),c.a.createElement(ln,{horizontal:!0,type:fn,value:t.lastName,onInput:function(e){return u(Object(o.a)({},t,{lastName:e}))},title:"Last Name",required:!0}),c.a.createElement(ln,{horizontal:!0,type:bn,value:t.email,onInput:function(e){return u(Object(o.a)({},t,{email:e}))},title:"Email",required:!0}),c.a.createElement(ln,{horizontal:!0,type:hn,value:t.phoneNumber,onInput:function(e){return u(Object(o.a)({},t,{phoneNumber:e}))},title:"Phone Number",required:!0}),c.a.createElement(ln,{horizontal:!0,type:fn,value:t.location,onInput:function(e){return u(Object(o.a)({},t,{location:e}))},title:"Location"}),c.a.createElement(sn,{horizontal:!0,values:[!0,!1],selected:t.onCampus,render:function(e){return e?"Yes":"No"},onInput:function(e){return u(Object(o.a)({},t,{onCampus:e}))},title:"On Campus?"}),c.a.createElement(on,{horizontal:!0,type:kn,values:["Class","Club",null],selected:t.enrollment,onInput:function(e){return u(Object(o.a)({},t,{enrollment:e}))},title:"Enrollment"}),c.a.createElement(on,{horizontal:!0,type:On(i),values:[null].concat(Object(f.a)((null===i||void 0===i?void 0:i.sections)||[])),selected:t.section,onInput:function(e){return u(Object(o.a)({},t,{section:e}))},title:"Section"}),c.a.createElement(ln,{horizontal:!0,type:fn,value:t.about,onInput:function(e){return u(Object(o.a)({},t,{about:e}))},title:"About"}),c.a.createElement(ln,{horizontal:!0,type:fn,value:t.picture,onInput:function(e){return u(Object(o.a)({},t,{picture:e}))},title:"Picture"}),c.a.createElement(ln,{horizontal:!0,type:gn,value:t.arrivedAtTech,onInput:function(e){return u(Object(o.a)({},t,{arrivedAtTech:e}))},title:"Arrived At Tech"}),c.a.createElement(ln,{horizontal:!0,type:fn,value:t.gatewayDrug,onInput:function(e){return u(Object(o.a)({},t,{gatewayDrug:e}))},title:"Gateway Drug"}),c.a.createElement(ln,{horizontal:!0,type:fn,value:t.conflicts,onInput:function(e){return u(Object(o.a)({},t,{conflicts:e}))},title:"Conflicts"}),c.a.createElement(ln,{horizontal:!0,type:fn,value:t.dietaryRestrictions,onInput:function(e){return u(Object(o.a)({},t,{dietaryRestrictions:e}))},title:"Dietary Restrictions"}),c.a.createElement(Bt,{alignment:"is-right"},c.a.createElement(Yt,{onClick:a},"Cancel"),c.a.createElement(zt,{color:"is-primary",loading:Fe(n)},"Save")),Pe(n)&&c.a.createElement(mt,{error:n.error}))},_r=function(e){return{firstName:e.firstName,preferredName:e.preferredName||"",lastName:e.lastName,email:e.email,phoneNumber:e.phoneNumber,location:e.location,onCampus:!!e.onCampus,major:e.major||"",hometown:e.hometown||"",passengers:e.passengers,enrollment:e.enrollment,section:e.section,about:e.about||"",picture:e.picture||"",arrivedAtTech:e.arrivedAtTech,gatewayDrug:e.gatewayDrug||"",conflicts:e.conflicts||"",dietaryRestrictions:e.dietaryRestrictions||""}},zr=function(e){var t=e.member,n=Object(r.useState)(ke),a=Object(d.a)(n,2),l=a[0],u=a[1],i=Object(r.useState)(Ce),f=Object(d.a)(i,2),p=f[0],E=f[1],b=Object(r.useCallback)(Object(m.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ct("members/".concat(t.email,"?grades=true"));case 2:n=e.sent,u(Ie(Te(n),(function(e){return e.grades})));case 4:case"end":return e.stop()}}),e)}))),[u,t]),v=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(n,a){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Re(l)){e.next=2;break}return e.abrupt("return");case 2:return u(we(Object(o.a)({},l.data,{eventsWithChanges:l.data.eventsWithChanges.map((function(e){return e.id===n?Object(o.a)({},e,{attendance:a}):e}))}))),E(Se),r="events/".concat(n,"/attendance/").concat(t.email),e.next=7,St(r,a);case 7:c=e.sent,E(Ae(c)),c.successful&&b();case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[l,t.email,E,b]);return Object(r.useEffect)((function(){b()}),[b]),c.a.createElement(c.a.Fragment,null,c.a.createElement(ft,{data:l,render:function(e){return c.a.createElement(gt,null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Date"),c.a.createElement("th",null,"Event"),c.a.createElement("th",null,"Type"),c.a.createElement("th",null,"Should Attend?"),c.a.createElement("th",null,"Did Attend?"),c.a.createElement("th",null,"Minutes Late"),c.a.createElement("th",null,"Point Change"),c.a.createElement("th",null,"Partial Score"),c.a.createElement("th",null,"Rationale"))),c.a.createElement("tbody",null,e.eventsWithChanges.map((function(e){return c.a.createElement(Lr,{event:e,update:v})}))))}}),c.a.createElement(bt,{state:p}))},Lr=function(e){var t,n,a,r=e.event,l=e.update,u=r.attendance||{shouldAttend:!1,didAttend:!1,confirmed:!1,minutesLate:0};return c.a.createElement("tr",{className:"no-bottom-border"},c.a.createElement("td",null,Kt(r.callTime)),c.a.createElement("td",null,c.a.createElement("a",{href:me(g(r.id,null))},r.name)),c.a.createElement("td",null,r.type),c.a.createElement("td",null,c.a.createElement(mn,{content:"",checked:u.shouldAttend,onChange:function(e){return l(r.id,Object(o.a)({},u,{shouldAttend:e}))}})),c.a.createElement("td",null,c.a.createElement(mn,{content:"",checked:u.didAttend,onChange:function(e){return l(r.id,Object(o.a)({},u,{didAttend:e}))}})),c.a.createElement("td",null,c.a.createElement(ln,{type:gn,value:u.minutesLate,onInput:function(e){return l(r.id,Object(o.a)({},u,{minutesLate:e||0}))},placeholder:"0"})),c.a.createElement("td",null,null===(t=r.change)||void 0===t?void 0:t.change),c.a.createElement("td",null,null===(n=r.change)||void 0===n?void 0:n.partialScore),c.a.createElement("td",null,null===(a=r.change)||void 0===a?void 0:a.reason))},Ur=function(e){var t=e.member,n=Object(r.useState)(ke),a=Object(d.a)(n,2),l=a[0],u=a[1];return Object(r.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="members/".concat(t.email,"?details=true"),e.next=3,Ct(n);case 3:a=e.sent,u(Ie(Te(a),(function(e){return e.semesters})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,u]),c.a.createElement(ft,{data:l,render:function(e){return c.a.createElement(gt,null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Semester"),c.a.createElement("th",null,"Enrollment"),c.a.createElement("th",null,"Section"),c.a.createElement("th",null,"Score"))),c.a.createElement("tbody",null,e.map((function(e){return c.a.createElement("tr",{className:"no-bottom-border"},c.a.createElement("td",null,e.semester),c.a.createElement("td",null,e.enrollment||"Inactive"),c.a.createElement("td",null,e.section||"Homeless"),c.a.createElement("td",null,(t=e.grades.grade,Math.round(100*t)/100)));var t}))))}})},Wr=function(e){var t=e.member,n=Object(r.useState)(ke),a=Object(d.a)(n,2),l=a[0],u=a[1],i=Object(r.useState)(Ce),f=Object(d.a)(i,2),p=f[0],E=f[1],b=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(t,n){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Re(l)){e.next=2;break}return e.abrupt("return");case 2:return E(Se),u(we(l.data.map((function(e){return e.id===t?Object(o.a)({},e,{resolved:n}):e})))),a="transactions/".concat(t,"/resolve/").concat(n),e.next=7,St(a,{});case 7:r=e.sent,E(Ae(r));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[l,E,u]);return Object(r.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ct("transactions/".concat(t.email));case 2:n=e.sent,u(Te(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,u]),c.a.createElement(nt,null,c.a.createElement(ft,{data:l,render:function(e){return c.a.createElement(gt,{striped:!0},c.a.createElement("tbody",null,e.sort((function(e,t){return t.time-e.time})).map((function(e){return c.a.createElement(Hr,{transaction:e,resolve:b})}))))}}),c.a.createElement(bt,{state:p}))},Hr=function(e){var t=e.transaction,n=e.resolve;return c.a.createElement("tr",{className:"no-bottom-border"},c.a.createElement("td",null,Jt(t.time)),c.a.createElement("td",null,t.type,t.description&&" (".concat(t.description,")")),c.a.createElement("td",null,t.amount<0?c.a.createElement("span",{style:{color:"green"}},-1*t.amount):c.a.createElement(c.a.Fragment,null,t.amount)),c.a.createElement("td",null,t.resolved?"Resolved":"Outstanding"),c.a.createElement("td",null,t.resolved?c.a.createElement(Yt,{size:"is-small",onClick:function(){return n(t.id,!1)}},"Unresolve"):c.a.createElement(Yt,{size:"is-small",color:"is-primary",onClick:function(){return n(t.id,!0)}},"Resolve")))},Xr=function(e){var t,n=e.email,a=e.tab,l=Object(r.useContext)(Ee),u=l.user,o=l.members,i=l.updateMembers,f=Object(r.useState)(ke),p=Object(d.a)(f,2),E=p[0],b=p[1],v=Object(r.useCallback)((function(e){b(we(e)),i(o.map((function(t){return t.email===e.email?e:t})))}),[b,o,i]);return Object(r.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=o.find((function(e){return e.email===n})))){e.next=5;break}b(we(t)),e.next=9;break;case 5:return e.next=7,Ct("/members/".concat(n));case 7:a=e.sent,b(Te(a));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n,o,b]),c.a.createElement(c.a.Fragment,null,c.a.createElement(rt,null,c.a.createElement(ct,null,c.a.createElement(ft,{data:E,render:function(e){return c.a.createElement(tt,null,c.a.createElement(nt,{narrow:!0},c.a.createElement(Kr,{member:e})),c.a.createElement(nt,null,c.a.createElement(Vr,{member:e}),c.a.createElement("br",null),c.a.createElement(Jr,{member:e})))}}))),!!(null===u||void 0===u?void 0:null===(t=u.positions)||void 0===t?void 0:t.length)&&c.a.createElement(rt,null,c.a.createElement(ct,null,c.a.createElement(at,null,c.a.createElement(ft,{data:E,render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement($r,{member:e,tab:a||P}),c.a.createElement(Zr,{member:e,tab:a||P,updateMember:v}))}})))))},Vr=function(e){var t,n=e.member;return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,c.a.createElement("h1",{className:"subtitle is-3",style:{marginBottom:"initial"}},Ge(n)),c.a.createElement("i",null,'"',n.about||"no quote",'"')),c.a.createElement("br",null),(null===(t=n.positions)||void 0===t?void 0:t.length)?n.positions.join(", "):"Member",c.a.createElement("br",null),c.a.createElement(it,{email:n.email}),c.a.createElement("br",null),c.a.createElement(st,{phone:n.phoneNumber}),c.a.createElement("br",null),n.section||"Homeless",c.a.createElement("br",null),n.major||"No major",n.minor&&", minoring in ".concat(n.minor))},Kr=function(e){var t=e.member;return c.a.createElement("img",{width:250,height:250,src:t.picture||"https://picsum.photos/250",alt:""})},Jr=function(e){var t=e.member,n=be().goToRoute,a=Object(r.useContext)(Ee),l=a.user,u=a.updateUser,o=a.members,i=a.updateMembers,f=Object(r.useState)(Ce),p=Object(d.a)(f,2),v=p[0],g=p[1],O=Object(r.useState)(null),j=Object(d.a)(O,2),y=j[0],k=j[1],w=Object(r.useCallback)((function(){Le(null),u(null),n(E)}),[u,n]),x=Object(r.useCallback)(Object(m.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ue()){e.next=3;break}return e.abrupt("return");case 3:return g(Se),e.next=6,At(Ct("logout"),(function(){return We(null),Le(t),Ct("user")}));case 6:n=e.sent,g(Ae(n)),n.successful&&u(n.data);case 9:case"end":return e.stop()}}),e)}))),[g,u]),C=Object(r.useCallback)(Object(m.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(Se),e.next=3,At(Ct("members/".concat(t.email,"/login_as")),(function(e){var t=ze();return We(t),Le(e.token),Ct("user")}));case 3:n=e.sent,g(Ae(n)),n.successful&&u(n.data);case 6:case"end":return e.stop()}}),e)}))),[g,u,t]),S=Object(r.useCallback)(Object(m.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(Se),e.next=3,It("members/".concat(t.email,"?confirm=true"));case 3:a=e.sent,k(Ae(a)),a.successful&&(i(o.filter((function(e){return e.email!==t.email}))),n(b));case 6:case"end":return e.stop()}}),e)}))),[k,t.email,i,o,n]);if((null===l||void 0===l?void 0:l.email)===t.email)return c.a.createElement(Bt,null,Ue()?c.a.createElement(Yt,{onClick:x},"Log back in as yourself"):c.a.createElement(Yt,{onClick:w},"Log out"),c.a.createElement(_t,{route:h},"Edit your profile"));var N=t.preferredName||t.firstName;return c.a.createElement(Bt,null,c.a.createElement(pt,{permission:"switch-user"},c.a.createElement(Yt,{onClick:C},"Log in as ",N)),c.a.createElement(pt,{permission:"delete-user"},c.a.createElement(Yt,{onClick:function(){return k(Ce)}},"Delete ",N)),Pe(v)&&c.a.createElement(mt,{error:v.error}),y&&c.a.createElement(Qr,{member:t,state:y,cancel:function(){return k(null)},confirm:S}))},Qr=function(e){var t=e.member,n=e.state,a=e.cancel,r=e.confirm;return c.a.createElement(Ea,{title:"Delete ".concat(Ge(t),"?"),state:n,confirm:r,cancel:a},c.a.createElement(c.a.Fragment,null,"Are you sure you want to delete ",Ge(t),"?",c.a.createElement("br",null),c.a.createElement("i",null,"Think of what Uncle Ben would say. No, not the rice one.")))},$r=function(e){var t=e.member,n=e.tab;return c.a.createElement("div",{className:"tabs"},c.a.createElement("ul",null,[P,M,B,G].map((function(e){return c.a.createElement("li",{className:n.route===e.route?"is-active":void 0},c.a.createElement("a",{href:me(v(t.email,e))},e.name))}))))},Zr=function(e){var t=e.member,n=e.tab,a=e.updateMember;switch(n.route){case"attendance":return c.a.createElement(zr,{member:t});case"semesters":return c.a.createElement(Ur,{member:t});case"money":return c.a.createElement(Wr,{member:t});case"details":return c.a.createElement(Br,{member:t,update:a})}},ec=function(e){var t,n=e.link,a=e.onDelete;return t="Sheet Music"===n.type?c.a.createElement(tc,{name:n.name,url:"https://gleeclub.gatech.edu/music/".concat(n.target)}):"MIDIs"===n.type?c.a.createElement(nc,{name:n.name,url:"https://gleeclub.gatech.edu/music/".concat(n.target)}):"Performances"===n.type?c.a.createElement(ac,{name:n.name,url:"https://youtu.be/".concat(n.target)}):c.a.createElement(rc,{name:n.name,url:n.target}),a?c.a.createElement("span",{style:{display:"inline"}},c.a.createElement("button",{className:"delete",style:{margin:"8px"},onClick:function(){return a(n)}}),t):t},tc=function(e){var t=e.url,n=e.name;return c.a.createElement("a",{className:"button is-outlined is-primary",href:t,target:"_blank",rel:"noopener noreferrer"},c.a.createElement("span",{className:"icon"},c.a.createElement("i",{className:"fas fa-scroll"})),c.a.createElement("span",null,n))},nc=function(e){var t=e.url,n=e.name;return c.a.createElement("a",{className:"button is-outlined is-primary",href:t,target:"_blank",rel:"noopener noreferrer"},c.a.createElement("span",{className:"icon"},c.a.createElement("i",{className:"fas fa-volume-up"})),c.a.createElement("span",null,n))},ac=function(e){var t=e.url,n=e.name;return c.a.createElement("span",{style:{display:"inline",alignItems:"center"}},c.a.createElement("span",{className:"icon has-text-grey-lighter",style:{marginRight:".5rem"}},c.a.createElement("i",{className:"fas fa-external-link-alt"})),c.a.createElement("a",{className:"button",href:t,target:"_blank",rel:"noopener noreferrer"},c.a.createElement("span",{className:"icon has-text-danger"},c.a.createElement("i",{className:"fab fa-youtube"}))),c.a.createElement("span",{style:{paddingLeft:"5px"}},n))},rc=function(e){var t=e.url,n=e.name;return c.a.createElement("a",{className:"button",target:"_blank",href:t,rel:"noopener noreferrer"},n)},cc=function(e){var t,n=e.song,a=e.tryToDelete,r=be().replaceRoute;return c.a.createElement("div",null,c.a.createElement(Pt,{content:"all songs",click:function(){return r(j(null,null))}}),c.a.createElement($e,{centered:!0},n.title),n.info&&c.a.createElement("p",null,n.info,c.a.createElement("br",null)),c.a.createElement(lc,{title:"Key",pitch:n.key,mode:n.mode}),c.a.createElement(lc,{title:"Starting Pitch",pitch:n.startingPitch,mode:null}),c.a.createElement("br",null),c.a.createElement(gt,{fullwidth:!0},c.a.createElement("tbody",null,null===(t=n.links)||void 0===t?void 0:t.filter((function(e){return e.links.length})).map((function(e){return c.a.createElement("tr",{style:{border:"none"}},c.a.createElement("td",{style:{border:"none"}},e.name),c.a.createElement("td",{style:{border:"none"}},e.links.map((function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ec,{link:e})," ")}))))})))),c.a.createElement(pt,{permission:"edit-repertoire"},c.a.createElement("div",null,c.a.createElement(Yt,{onClick:function(){return r(j(n.id,ae))}},"Edit Song"),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(Yt,{color:"is-danger",onClick:a},"Delete Song"))))},lc=function(e){var t=e.title,n=e.pitch,a=e.mode;return c.a.createElement("p",null,t,":"," ",n?c.a.createElement("b",{onClick:function(){return function(e){(new Be.a.Synth).toMaster().triggerAttackRelease(Be.a.Midi("".concat(Ke(e),"4")),"1n")}(n)}},c.a.createElement(lt,{content:"hey kid, wanna pitch?"},Ke(n),a&&" ".concat(a))):c.a.createElement("b",null,"?"))},uc={name:"",file:null},oc={name:"",url:""},ic=function(e){var t=e.song,n=e.propagateUpdate,a=be().replaceRoute,l=Object(r.useState)(Ce),u=Object(d.a)(l,2),i=u[0],p=u[1],E=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(t),p(Se),e.next=4,St("repertoire/".concat(t.id),t);case 4:a=e.sent,p(Ae(a));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[p,n]),b=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(a){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(o.a)({},t,{links:null===(r=t.links)||void 0===r?void 0:r.map((function(e){return Object(o.a)({},e,{links:e.links.filter((function(e){return e.id!==a.id}))})}))})),p(Se),e.next=4,It("repertoire/links/".concat(a.id));case 4:c=e.sent,p(Ae(c));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[p,n,t]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Pt,{content:"finish editing",click:function(){return a(j(t.id,ne))}}),c.a.createElement("h2",{className:"title is-4",style:{textAlign:"center"}},"Edit"),c.a.createElement("h3",{className:"subtitle is-6",style:{textAlign:"center"}},t.title),c.a.createElement(ln,{type:fn,value:t.title,onInput:function(e){return E(Object(o.a)({},t,{title:e}))},title:"Name of song",placeholder:"Happy Birthday in 12/17",required:!0}),c.a.createElement(on,{type:xn,values:[null].concat(Object(f.a)(je)),selected:t.key,onInput:function(e){return E(Object(o.a)({},t,{key:e}))},title:"Tonic"}),c.a.createElement(on,{type:Cn,values:[null,"Major","Minor"],selected:t.mode,onInput:function(e){return E(Object(o.a)({},t,{mode:e}))},title:"Mode"}),c.a.createElement(on,{type:xn,values:[null].concat(Object(f.a)(je)),selected:t.startingPitch,onInput:function(e){return E(Object(o.a)({},t,{startingPitch:e}))},title:"Starting Pitch (if different)"}),c.a.createElement(mn,{content:"Current Repertoire",checked:t.current,onChange:function(e){return E(Object(o.a)({},t,{current:e}))}}),c.a.createElement(un,{value:t.info||"",onInput:function(e){return E(Object(o.a)({},t,{info:e}))},title:"Comments",placeholder:"There are no soloists, communism wins!"}),c.a.createElement(bt,{state:i}),c.a.createElement("ul",{style:{listStyle:"none",paddingBottom:"10px"}},c.a.createElement(sc,{typeName:"Sheet Music",song:t,propagateUpdate:n,deleteLink:b}),c.a.createElement(sc,{typeName:"MIDIs",song:t,propagateUpdate:n,deleteLink:b}),c.a.createElement(mc,{song:t,propagateUpdate:n,deleteLink:b})))},sc=function(e){var t,n,a=e.song,l=e.typeName,u=e.deleteLink,i=e.propagateUpdate,p=Object(r.useState)(uc),E=Object(d.a)(p,2),b=E[0],v=E[1],h=Object(r.useState)(Ce),g=Object(d.a)(h,2),O=g[0],j=g[1],y=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(t){var n,r,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),b.name&&b.file){e.next=3;break}return e.abrupt("return");case 3:return j(Se),e.next=6,Xe(b.file);case 6:return n=e.sent,r={type:l,name:b.name,target:{path:b.file.name,content:n}},e.next=10,dc(r,a.id);case 10:c=e.sent,j(Ae(c)),c.successful&&(i(Object(o.a)({},a,{links:null===(u=a.links)||void 0===u?void 0:u.map((function(e){return e.name===l?Object(o.a)({},e,{links:[].concat(Object(f.a)(e.links),[c.data])}):e}))})),v(uc));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[b,i,a,l]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(ot,{content:l}),(null===(t=a.links)||void 0===t?void 0:null===(n=t.find((function(e){return e.name===l})))||void 0===n?void 0:n.links.map((function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ec,{link:e,onDelete:function(e){return u(e)}}),c.a.createElement("br",null))})))||c.a.createElement("br",null),c.a.createElement("form",{onSubmit:y},c.a.createElement(ln,{type:fn,value:b.name,onInput:function(e){return v(Object(o.a)({},b,{name:e}))},title:"".concat(l," Name"),placeholder:"Happy Birthday - TTBB",required:!0}),c.a.createElement(dn,{file:b.file,selectFile:function(e){return v(Object(o.a)({},b,{file:e}))},title:"".concat(l," File")}),c.a.createElement(zt,{loading:Fe(O)},"Add ",l),Pe(O)&&c.a.createElement(mt,{error:O.error})))},mc=function(e){var t,n,a=e.song,l=e.deleteLink,u=e.propagateUpdate,i=Object(r.useState)(oc),p=Object(d.a)(i,2),E=p[0],b=p[1],v=Object(r.useState)(Ce),h=Object(d.a)(v,2),g=h[0],O=h[1],j=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(t){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),O(Se),n={type:"Performances",name:E.name,target:E.url},e.next=5,dc(n,a.id);case 5:r=e.sent,O(Ae(r)),r.successful&&(u(Object(o.a)({},a,{links:null===(c=a.links)||void 0===c?void 0:c.map((function(e){return"Performances"===e.name?Object(o.a)({},e,{links:[].concat(Object(f.a)(e.links),[r.data])}):e}))})),b(oc));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a,O,u,b,E]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(ot,{content:"Performances"}),(null===(t=a.links)||void 0===t?void 0:null===(n=t.find((function(e){return"Performances"===e.name})))||void 0===n?void 0:n.links.map((function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ec,{link:e,onDelete:l}))})))||c.a.createElement("br",null),c.a.createElement("form",{onSubmit:j},c.a.createElement(ln,{type:fn,value:E.name,onInput:function(e){return b(Object(o.a)({},E,{name:e}))},title:"Performance name",placeholder:"Happy Birthday, live from New York!",required:!0}),c.a.createElement(ln,{type:fn,value:E.url,onInput:function(e){return b(Object(o.a)({},E,{url:e}))},title:"Performance URL",prefix:"https://youtu.be/",placeholder:"dtER80sOjX4",required:!0}),c.a.createElement(zt,{loading:Fe(g)},"Add performance"),Pe(g)&&c.a.createElement(mt,{error:g.error})))},dc=function(e,t){return At(Nt("repertoire/".concat(t,"/links"),e),(function(e){var t=e.id;return Ct("repertoire/links/".concat(t))}))},fc=function(e){var t=e.songId,n=e.tab,a=be().replaceRoute,l=Object(r.useState)(ke),u=Object(d.a)(l,2),o=u[0],i=u[1],f=Object(r.useState)(ye),p=Object(d.a)(f,2),E=p[0],b=p[1],v=Object(r.useState)(Ce),h=Object(d.a)(v,2),g=h[0],O=h[1],y=Object(r.useState)(null),k=Object(d.a)(y,2),w=k[0],x=k[1],C=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(ke),e.next=3,Ct("repertoire/".concat(t,"?details=true"));case 3:n=e.sent,b(Te(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[b]),S=Object(r.useCallback)(Object(m.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(Se),t={title:"New Song"},e.next=4,Nt("repertoire",t);case 4:n=e.sent,O(Ae(n)),n.successful&&a(j(n.data.id,ae));case 7:case"end":return e.stop()}}),e)}))),[O,a]),N=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(Se),e.next=3,It("repertoire/".concat(t));case 3:(n=e.sent).successful?(x(null),b(ye),i((function(e){return Ie(e,(function(e){return e.filter((function(e){return e.id!==t}))}))}))):x(Ne(n.error));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[x,b,i]),I=Object(r.useCallback)((function(e){b(we(e)),i(Ie(o,(function(t){return t.map((function(t){return t.id===e.id?e:t}))})))}),[o,b]);Object(r.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ct("repertoire");case 2:t=e.sent,i(Te(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i]),Object(r.useEffect)((function(){null!==t?C(t):b(ye)}),[t,C,b]);var T=Re(E)?E.data.id:null,A=[["Current",pc,c.a.createElement(hc,{state:g,createSong:S})],["A-G",Ec,void 0],["H-P",bc,void 0],["Q-Z",vc,void 0]];return c.a.createElement("div",null,c.a.createElement(rt,null,c.a.createElement(ct,null,c.a.createElement(tt,null,A.map((function(e){var t=Object(d.a)(e,3),n=t[0],r=t[1],l=t[2];return c.a.createElement("div",{key:n,className:"column is-one-quarter is-centered"},c.a.createElement(Ot,{title:n,listItems:Ie(o,(function(e){return[e.filter(r)]})),isSelected:function(e){return e.id===T},onSelect:function(e){return a(j(e.id,null))},messageIfEmpty:"Nothin' to see here, buddy.",render:function(e){return c.a.createElement("td",null,e.title)},contentAtBottom:l}))}))))),c.a.createElement(Et,{data:E,close:function(){return a(j(null,null))},render:function(e){return"edit"===(null===n||void 0===n?void 0:n.route)?c.a.createElement(ic,{song:e,propagateUpdate:I}):c.a.createElement(cc,{song:e,tryToDelete:function(){return x(Ce)}})}}),Re(E)&&w?c.a.createElement(Ea,{title:"Are you sure you want to delete ".concat(E.data.title,"?"),cancel:function(){return x(null)},confirm:function(){return N(E.data.id)},state:w},c.a.createElement("div",null,c.a.createElement("p",null,"Are you sure you want to delete ",E.data.title,"?"),c.a.createElement("p",null,c.a.createElement("i",null,"It'll be gong like Varys' dong.")))):null)},pc=function(e){return e.current},Ec=function(e){return!e.current&&e.title.toLowerCase()[0]<"h"},bc=function(e){return!e.current&&e.title.toLowerCase()[0]>="h"&&e.title.toLowerCase()[0]<"q"},vc=function(e){return!e.current&&e.title.toLowerCase()[0]>="q"},hc=function(e){var t=e.state,n=e.createSong;return c.a.createElement(pt,{permission:"edit-repertoire"},c.a.createElement("div",{style:{paddingTop:"5px"}},c.a.createElement(Bt,{alignment:"is-centered"},c.a.createElement(Yt,{color:"is-primary",loading:Fe(t),onClick:n},"+ Add New Song")),Pe(t)&&c.a.createElement(mt,{error:t.error})))},gc=function(e){var t=e.token,n=be().goToRoute,a=Object(r.useState)(""),l=Object(d.a)(a,2),u=l[0],o=l[1],i=Object(r.useState)(""),f=Object(d.a)(i,2),p=f[0],b=f[1],v=Object(r.useState)(Ce),h=Object(d.a)(v,2),g=h[0],O=h[1],j=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(a){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),u===p){e.next=4;break}return alert("Your passwords don't match."),e.abrupt("return");case 4:return O(Se),r={passHash:Ra.Md5.hashStr(u)},e.next=8,St("reset_password?token=".concat(t),r);case 8:(c=e.sent).successful?(n(E),alert("Your password has been successfully reset!")):O(Ne(c.error));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[u,t,p,O,n]);return c.a.createElement("div",{className:"container fullheight"},c.a.createElement("div",{className:"columns is-centered is-vcentered"},c.a.createElement(nt,{narrow:!0},c.a.createElement("form",{onSubmit:j,style:{padding:"10px"}},c.a.createElement(at,null,c.a.createElement(Ze,null,"Reset your Password"),c.a.createElement("p",null,"Good job getting this far. Gimme a new password, and you'll be reborn like it's Avatar 2009."),c.a.createElement("br",null),c.a.createElement(ln,{type:vn,value:u,onInput:o,title:"Password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0}),c.a.createElement(ln,{type:vn,value:p,onInput:b,title:"Confirm Password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0}),c.a.createElement(Bt,{alignment:"is-right"},c.a.createElement(zt,{color:"is-primary",loading:Fe(g)},"call me Jake Sully")),Pe(g)&&c.a.createElement(mt,{error:g.error}))))))},Oc=function(){var e=Object(r.useContext)(Ee).members;return c.a.createElement(rt,null,c.a.createElement(ct,null,c.a.createElement(at,null,c.a.createElement(gt,{fullwidth:!0,scrollable:!0},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Name"),c.a.createElement("th",null,"Section"),c.a.createElement("th",null,"E-mail"),c.a.createElement("th",null,"Phone"),c.a.createElement("th",null,"Location"))),c.a.createElement("tbody",null,e.map((function(e){return c.a.createElement("tr",{key:e.email},c.a.createElement("td",null,c.a.createElement("a",{href:me(v(e.email,null))},Ge(e))),c.a.createElement("td",null,e.section||"Homeless"),c.a.createElement("td",null,c.a.createElement(it,{email:e.email})),c.a.createElement("td",null,c.a.createElement(st,{phone:e.phoneNumber})),c.a.createElement("td",null,e.location))})))))))},jc=function(e){var t=e.user,n=e.info,a=be().location,l=Object(r.useState)(!1),u=Object(d.a)(l,2),o=u[0],i=u[1],s=Object(r.useCallback)((function(){i(!o)}),[o,i]),m=a?me(a):"";Object(r.useEffect)((function(){i(!1)}),[m]);var f=function(e){return c.a.createElement("a",{className:"navbar-item"+(e.route===(null===a||void 0===a?void 0:a.route)?" is-active":""),href:me(e)},e.name)};return c.a.createElement("nav",{className:"navbar is-primary is-fixed-top",role:"navigation","aria-label":"main navigation"},c.a.createElement("div",{className:"navbar-brand"},c.a.createElement(wc,null),t&&c.a.createElement(xc,{expanded:o,toggleExpanded:s})),c.a.createElement("div",{className:"navbar-menu"+(o?" is-active":"")},t&&c.a.createElement("div",{className:"navbar-start"},f(g(null,null)),f(j(null,null)),f(b),f(y(null,null)),c.a.createElement(kc,{documents:(null===n||void 0===n?void 0:n.documents)||[]}),c.a.createElement(yc,{user:t})),t&&c.a.createElement("div",{className:"navbar-end"},c.a.createElement("a",{className:"navbar-item"+("profile"===(null===a||void 0===a?void 0:a.route)&&a.email===t.email?" is-active":""),href:me(v(t.email,null))},Ge(t)))))},yc=function(e){var t=e.user,n=t?Ve(t):[];if(!n.length)return c.a.createElement(c.a.Fragment,null);var a=c.a.createElement("hr",{className:"navbar-divider"}),r=function(e){return c.a.createElement("a",{key:e.route,className:"navbar-item",href:me(x(e))},e.name)};return c.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},c.a.createElement("a",{className:"navbar-link",href:me(x(null))},"Admin"),c.a.createElement("div",{className:"navbar-dropdown"},n.map((function(e,t){return[].concat(Object(f.a)(e.map(r)),Object(f.a)(t===n.length-1?[]:[a]))}))))},kc=function(e){var t=e.documents;return c.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},c.a.createElement("a",{className:"navbar-link"},"Documents"),c.a.createElement("div",{className:"navbar-dropdown"},t.map((function(e){return c.a.createElement("a",{key:e.name,className:"navbar-item",target:"_blank",rel:"noopener noreferrer",href:e.url},e.name)}))))},wc=function(){return c.a.createElement("a",{href:me(p),className:"navbar-item"},c.a.createElement("span",{className:"icon is-small",style:{width:"3vw"}},c.a.createElement("i",{className:"fas fa-home"})))},xc=function(e){var t=e.expanded,n=e.toggleExpanded;return(c.a.createElement("a",{role:"button","aria-label":"menu","aria-expanded":t,className:"navbar-burger"+(t?" is-active":""),onClick:n},c.a.createElement("span",{"aria-hidden":"true"}),c.a.createElement("span",{"aria-hidden":"true"}),c.a.createElement("span",{"aria-hidden":"true"})))},Cc=function(){var e=Object(r.useContext)(Ee).user,t=Object(r.useState)(!1),n=Object(d.a)(t,2),a=n[0],l=n[1],u=Object(r.useState)(!1),o=Object(d.a)(u,2),i=o[0],s=o[1],m=!!(null===e||void 0===e?void 0:e.enrollment);return!e||m||a?c.a.createElement(c.a.Fragment,null," "):c.a.createElement("section",{style:{margin:"2em",marginBottom:"-1em",paddingTop:"40px"}},c.a.createElement("div",{className:"notification is-info"},c.a.createElement(Mt,{click:function(){return l(!0)}}),c.a.createElement("div",{style:{width:"100%",display:"flex",alignItems:"center"}},c.a.createElement("div",null,"Welcome! Feel free to browse the site, but if you're going to be active in Glee Club this semester, please confirm your account so we can get you into the system."),c.a.createElement("div",null,c.a.createElement(Yt,{onClick:function(){return s(!0)},color:"is-info",inverted:!0,outlined:!0,style:{margin:"0 2em"}},"Confirm")))),i&&c.a.createElement(Sc,{close:function(){return s(!1)}}))},Sc=function(e){var t=e.close,n=Object(r.useContext)(Ee),a=n.user,l=n.info,u=n.refreshAll,i=Object(r.useState)({location:(null===a||void 0===a?void 0:a.location)||"",onCampus:!a||!!a.onCampus,enrollment:"Class",section:(null===l||void 0===l?void 0:l.sections[0])||null}),f=Object(d.a)(i,2),p=f[0],E=f[1],b=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=Object(o.a)({},p,{section:p.section||"",conflicts:"",dietaryRestrictions:""}),e.next=4,St("members/confirm",a);case 4:e.sent.successful&&(t(),u());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[p,t,u]);return c.a.createElement(vt,{close:t},c.a.createElement("form",{onSubmit:b},c.a.createElement(Ze,null,"Confirm Your Account"),c.a.createElement(rn,{horizontal:!0,title:"Location"},c.a.createElement(ln,{type:fn,value:p.location,onInput:function(e){return E(Object(o.a)({},p,{location:e}))},placeholder:"Glenn",required:!0})),c.a.createElement(rn,{horizontal:!0,title:" "},c.a.createElement(an,null,c.a.createElement(Bt,{connected:!0},c.a.createElement(Yt,{element:"a",color:p.onCampus?"is-primary":void 0,onClick:function(){return E(Object(o.a)({},p,{onCampus:!0}))}},"On-campus"),c.a.createElement(Yt,{element:"a",color:p.onCampus?void 0:"is-primary",onClick:function(){return E(Object(o.a)({},p,{onCampus:!1}))}},"Off-campus")))),c.a.createElement(rn,{horizontal:!0,title:"Voice Part"},c.a.createElement(on,{type:On(l),values:(null===l||void 0===l?void 0:l.sections)||[],selected:p.section,onInput:function(e){return E(Object(o.a)({},p,{section:e}))},expanded:!0,leftAligned:!0})),c.a.createElement(rn,{horizontal:!0,title:"Enrollment"},c.a.createElement(an,null,c.a.createElement(Bt,{connected:!0},c.a.createElement(Yt,{element:"a",color:"Class"===p.enrollment?"is-primary":void 0,onClick:function(){return E(Object(o.a)({},p,{enrollment:"Class"}))}},"Class"),c.a.createElement(Yt,{element:"a",color:"Club"===p.enrollment?"is-primary":void 0,onClick:function(){return E(Object(o.a)({},p,{enrollment:"Club"}))}},"Club")))),c.a.createElement(Bt,{alignment:"is-right"},c.a.createElement(zt,{color:"is-primary"},"Confirm"))))},Nc=n(11),Ic=n(7),Tc=function(e){var t=e.events,n=e.hover,a=Object(r.useRef)(null),l={top:20,right:20,bottom:20,left:30},u=t.filter(_e),o=Ic.g().rangeRound([l.left,1350-l.right]),i=Ic.f().rangeRound([400-l.bottom,l.top]);return o.domain(Ic.d(t,(function(e){return e.callTime}))),i.domain([0,100]),Object(r.useEffect)((function(){if(a.current&&u.length){var e=Ic.h(a.current).html("");e.append("g").attr("transform","translate(0, ".concat(400-l.bottom,")")).call(Ic.a(o).ticks(3)),e.append("g").attr("transform","translate(".concat(l.left,", 0)")).call(Ic.b(i));var t=Ic.e().x((function(e){return o(e.callTime)})).y((function(e){return i(Math.max(0,e.partialScore))})).curve(Ic.c);e.append("path").datum([{callTime:u[0].callTime,partialScore:0}].concat(Object(f.a)(u.map((function(e){return{callTime:e.callTime,partialScore:e.change.partialScore}}))),[{callTime:u[u.length-1].callTime,partialScore:0}])).attr("class","line").attr("d",t)}}),[u,l,o,i]),c.a.createElement("svg",{width:1350,height:400},c.a.createElement("g",{ref:a}),c.a.createElement("g",null,u.map((function(e){return c.a.createElement("circle",{cx:o(e.callTime),cy:i(Math.max(e.change.partialScore,0)),r:4,strokeWidth:3,className:"attendanceDot"})}))),c.a.createElement("g",null,u.map((function(e){return c.a.createElement("circle",{cx:o(e.callTime),cy:i(Math.max(e.change.partialScore,0)),r:8,fillOpacity:0,onMouseOver:function(t){return n({event:e,x:t.clientX,y:t.clientY})},onMouseOut:function(){return n(null)}})}))),c.a.createElement("defs",null,c.a.createElement("linearGradient",{id:"attendanceGradient",gradientTransform:"rotate(90)"},c.a.createElement("stop",{offset:"0%",stopColor:"#b4a46a",stopOpacity:.85}),c.a.createElement("stop",{offset:"100%",stopColor:"#b4a46a",stopOpacity:0}))))},Ac=function(e){var t=e.events,n=Object(r.useRef)(null),a=new Date,l=Ic.j(a),u=new Date(l.getTime()+6048e5-1),o=Ic.g().range([480,10]);o.domain([u,l]);var i=function(e,n){return n&&o(e.callTime)-o(t[n-1].callTime)<=20};return Object(r.useEffect)((function(){Ic.h(n.current).append("g").attr("transform","translate(".concat(99,", 0)")).call(Ic.b(o).ticks(7).tickFormat((function(e){return Ic.i("%a")(e)})).tickSizeOuter(0))}),[t,o]),c.a.createElement("svg",{height:500},c.a.createElement("g",{ref:n}),c.a.createElement("g",null,t.map((function(e,t){return c.a.createElement("circle",{className:"dot",r:9,strokeWidth:2,cx:100,cy:i(e,t)?-9:o(e.callTime)})}))),c.a.createElement("g",null,c.a.createElement("circle",{className:"dot now",r:2.5,cx:99.5,cy:o(a)})),c.a.createElement("g",null,t.map((function(e,n){var a;return a=i(e,n)?o(t[n-1].callTime)+16+4.5:o(e.callTime)+4.5,c.a.createElement("foreignObject",{x:115,y:a-16,height:22,width:300},c.a.createElement("a",{href:me(g(e.id,null))},e.name))}))))},Dc=function(){var e=Object(r.useState)(ke),t=Object(d.a)(e,2),n=t[0],a=t[1],l=Object(r.useState)(null),u=Object(d.a)(l,2),o=u[0],i=u[1];return Object(r.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ct("events?full=true");case 2:t=e.sent,a(Te(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),c.a.createElement("div",{className:"container fullheight"},c.a.createElement(ft,{data:n,render:function(e){var t,n;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Fc,{finalGrade:null===(t=e[e.length-1])||void 0===t?void 0:null===(n=t.change)||void 0===n?void 0:n.partialScore,events:e,hoverEvent:i}),o&&c.a.createElement(qc,{hovered:o}),c.a.createElement(rt,null,c.a.createElement(ct,null,c.a.createElement(tt,null,c.a.createElement(Rc,{allEvents:e}),c.a.createElement(Pc,{pastEvents:e})))))}}))},Fc=function(e){var t=e.events,n=e.finalGrade,a=e.hoverEvent,l=Object(r.useContext)(Ee).user,u="number"===typeof n?n:100;return c.a.createElement(rt,null,c.a.createElement(ct,null,c.a.createElement($e,null,"Score"),c.a.createElement("p",null,"Right now you have a ",c.a.createElement("strong",null,u),".",c.a.createElement("br",null),c.a.createElement("span",{className:"has-text-grey-light is-italic"},function(e,t){return e?t>=90?"Ayy lamo nice.":t>=80?"OK not bad, I guess":t>=70?"Pls":"BRUH get it together.":"Do you even go here?"}((null===l||void 0===l?void 0:l.enrollment)||null,u))),t.length?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{width:"100%",margin:"auto",overflowX:"scroll"}},c.a.createElement(Tc,{events:t,hover:a})),c.a.createElement("p",null,c.a.createElement("br",null),"Do you have an issue? Do you need a daddy tissue?"," ",c.a.createElement("a",{href:"mailto:gleeclub_officers@lists.gatech.edu?subject=Attendance%20Issue"},"Email the officers")," to cry about it.")):c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"New semester, new you! Make it count."),c.a.createElement("br",null),c.a.createElement("br",null))))},qc=function(e){var t,n,a,r=e.hovered;return c.a.createElement("div",{className:"box",style:{position:"absolute",top:"".concat(r.y+20,"px"),left:"".concat(r.x,"px"),transform:"translateX(-50%)"}},c.a.createElement("p",null,c.a.createElement("strong",null,r.event.name)),c.a.createElement("p",null,Wt(r.event.callTime)),c.a.createElement("p",null,(null===(t=r.event.change)||void 0===t?void 0:t.change)||0," points"," ",c.a.createElement("span",{className:"icon is-primary has-text-primary"},c.a.createElement("i",{className:"fas fa-arrow-right"}))," ",null===(n=r.event.change)||void 0===n?void 0:n.partialScore,"%"),c.a.createElement("p",null,c.a.createElement("em",null,null===(a=r.event.change)||void 0===a?void 0:a.reason)))},Rc=function(e){var t=e.allEvents;return c.a.createElement(nt,null,c.a.createElement($e,null,"This Week"),c.a.createElement(at,null,c.a.createElement("div",{className:"timeline"},c.a.createElement(Ac,{events:t}))))},Pc=function(e){var t=e.pastEvents,n=Object(r.useContext)(Ee).currentSemester,a=t.filter((function(e){var t;return e.gigCount&&!!(null===(t=e.attendance)||void 0===t?void 0:t.didAttend)})),l=a.length>=n.gigRequirement,u=l?a:[].concat(Object(f.a)(a),Object(f.a)(new Array(n.gigRequirement).fill(null))).slice(0,n.gigRequirement);return c.a.createElement(nt,null,c.a.createElement($e,null,"Volunteerism"),c.a.createElement(at,null,l?c.a.createElement("p",null,"The dedication! The passion! The attendance! You've been to"," ",Je(a.length)," volunteer gigs this semester. Glub salutes you and your volunteerism."):c.a.createElement("p",null,"OK so you've only been to"," ",Je(a.length)," volunteer gigs this semester and you need to go to"," ",Je(n.gigRequirement),". So. Uh, you know, do that."),c.a.createElement("p",{style:{textAlign:"center"}},u.map((function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(Mc,{gig:e})," ")})))))},Mc=function(e){var t=e.gig;return t?c.a.createElement(lt,{content:"".concat(t.name," on ").concat(Kt(t.callTime))},c.a.createElement("span",{className:"icon is-large has-text-primary"},c.a.createElement("i",{className:"far fa-2x fa-check-circle"}))):c.a.createElement(lt,{content:"Hopefully something soon..."},c.a.createElement("span",{className:"icon is-large",style:{color:"gray"}},c.a.createElement("i",{className:"far fa-2x fa-frown"})))},Bc=Object(Nc.a)(),Gc=function(){var e=Object(r.useState)(ke),t=Object(d.a)(e,2),n=t[0],a=t[1],l=Object(r.useCallback)(Object(m.a)(s.a.mark((function e(){var t,n,r,c,l,u,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!!ze(),e.next=3,qt(Ct("user"),Ct("static"),Ct("semesters/current"),t?Ct("members"):Promise.resolve(xt([])));case 3:(n=e.sent).successful?(r=Object(d.a)(n.data,4),c=r[0],l=r[1],u=r[2],o=r[3],a(we({user:c,members:o,info:l,currentSemester:u}))):"login required"===n.error.message?Le(null):a(xe(n.error));case 5:case"end":return e.stop()}}),e)}))),[a]);return Object(r.useEffect)((function(){l()}),[l]),c.a.createElement(fe.a,{history:Bc},c.a.createElement("div",{id:"app"},c.a.createElement(jc,Re(n)?n.data:{user:null,info:null}),c.a.createElement(Ee.Provider,{value:Re(n)?Object(o.a)({},n.data,{refreshAll:l,updateUser:function(e){},updateMembers:function(e){},updateInfo:function(e){},updateCurrentSemester:function(e){}}):{user:null,info:null,currentSemester:null,members:[],refreshAll:l,updateUser:function(e){},updateMembers:function(e){},updateInfo:function(e){},updateCurrentSemester:function(e){}}},c.a.createElement(Cc,null)),c.a.createElement("div",{style:{paddingBottom:"50px"}}),c.a.createElement("div",{className:"center"},c.a.createElement(ft,{data:n,render:function(e){return c.a.createElement(Ee.Provider,{value:Object(o.a)({},e,{refreshAll:l,updateUser:function(t){return a(we(Object(o.a)({},e,{user:t})))},updateMembers:function(t){return a(we(Object(o.a)({},e,{members:t})))},updateInfo:function(t){return a(we(Object(o.a)({},e,{info:t})))},updateCurrentSemester:function(t){return a(we(Object(o.a)({},e,{currentSemester:t})))}})},c.a.createElement(Yc,{loggedIn:!!e.user}))}}))))},Yc=function(e){var t=e.loggedIn,n=be(),a=n.location,r=n.goToRoute;if(!t)switch(null===a||void 0===a?void 0:a.route){case"edit-profile":return c.a.createElement(Pa,null);case"forgot-password":return c.a.createElement(Cr,null);case"reset-password":return c.a.createElement(gc,{token:a.token});default:return"login"!==(null===a||void 0===a?void 0:a.route)&&r(E),c.a.createElement(Sr,null)}switch(null===a||void 0===a?void 0:a.route){case"admin":return c.a.createElement(wa,{tab:a.tab});case"edit-carpools":return c.a.createElement(Ta,{eventId:a.eventId});case"edit-profile":return c.a.createElement(Pa,null);case"events":return c.a.createElement(Or,{eventId:a.eventId,tab:a.tab});case"forgot-password":return c.a.createElement(Cr,null);case"login":return c.a.createElement(Sr,null);case"minutes":return c.a.createElement(Fr,{minutesId:a.minutesId,tab:a.tab});case"profile":return c.a.createElement(Xr,{email:a.email,tab:a.tab});case"repertoire":return c.a.createElement(fc,{songId:a.songId,tab:a.tab});case"reset-password":return c.a.createElement(gc,{token:a.token});case"roster":return c.a.createElement(Oc,null);default:return c.a.createElement(Dc,null)}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(c.a.createElement(Gc,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},88:function(e,t,n){e.exports=n(107)},93:function(e,t,n){},95:function(e,t,n){}},[[88,1,2]]]);
//# sourceMappingURL=main.b4a9cb77.chunk.js.map